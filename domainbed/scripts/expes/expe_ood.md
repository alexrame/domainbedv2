# Home

(pytorch) alexandrerame@devfair0751:~/slurmconfig/home0926/trainlp/runs$ grep 5000 64971187.out 64971188.out 64971189.out 64971190.out
64971187.out:0.6477857878          0.6927835052          0.7167812142          0.6380297824          0.8871058559          0.8478015784          0.8789443488          0.8277841561          82.3892893924         0.6704831192          7.8502902985          5000                  0.4388837004
64971188.out:0.8460350154          0.7402061856          0.5100229095          0.4810996564          0.8907657658          0.8489289741          0.8746414228          0.8335246843          82.3892893924         0.5089114669          7.8502902985          5000                  0.5171100855
64971189.out:0.8336766220          0.7690721649          0.7093356243          0.6277205040          0.7711148649          0.7666290868          0.8617326449          0.8013777268          82.3892893924         0.7957869542          7.8502902985          5000                  0.5908991408
64971190.out:0.8336766220          0.7525773196          0.7142038946          0.6219931271          0.8840090090          0.8376550169          0.8043602983          0.7979334099          82.3892893924         0.7984070998          7.8502902985          5000                  0.2641652441


home0_lplw_0926.slurm_66140907.out home1_lplw_0926.slurm_66140908.out home2_lplw_0926.slurm_66140909.out home3_lplw_0926.slurm_66140928.out

home0_lplw_0926.slurm_66140907.out: 0.6771369722          0.6969072165          0.8917525773          0.7709049255          0.9470720721          0.8714768884          0.9337349398          0.8495981630          82.3892893924         0.2000000000          -1.3375459647         2.0979171121          0.6915544435          11.2845602036         5000                  0.5029774356
home1_lplw_0926.slurm_66140908.out: 0.9577754892          0.7814432990          0.6331615120          0.6197021764          0.9504504505          0.8827508455          0.9368904188          0.8541905855          82.3892893924         0.2000000000          -0.7625711149         1.0056823975          0.4075582594          11.1146306992         5000                  0.5282889223
home2_lplw_0926.slurm_66140909.out: 0.9479917611          0.7793814433          0.8823024055          0.7651775487          0.7972972973          0.7733934611          0.9331612163          0.8323765786          82.3892893924         0.2000000000          -2.6526225233         1.9626727378          0.9053261870          11.2862730026         5000                  0.5393684340
home3_lplw_0926.slurm_66140928.out: 0.9603501545          0.7876288660          0.8817296678          0.7537227950          0.9391891892          0.8680947012          0.8138267355          0.8185993111          82.3892893924         0.2000000000          -3.3062765932         1.8595515037          0.8668349779          11.1924657822         5000                  0.4599056482

(pytorch) alexandrerame@devfair0751:~/slurmconfig/home0926/inf/runs$ cat enshome_erm_lplw_0926.slurm_66180840.out | grep printres
printres:  {'acc': 0.6971569839307787, 'env_0_in_acc': 0.6726804123711341, 'env_0_out_acc': 0.7298969072164948, 'env_1_in_acc': 0.9512893982808023, 'env_1_out_acc': 0.8064146620847652, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9368658399098083, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.870264064293915, 'length': 40, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6217640320733104, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8082474226804124, 'env_1_in_acc': 0.5988538681948424, 'env_1_out_acc': 0.6036655211912944, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9323562570462233, 'env_3_in_acc': 0.9913916786226685, 'env_3_out_acc': 0.8691159586681975, 'length': 40, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8105429150709619, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8061855670103093, 'env_1_in_acc': 0.9498567335243553, 'env_1_out_acc': 0.8052691867124857, 'env_2_in_acc': 0.828169014084507, 'env_2_out_acc': 0.8072153325817362, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.8622273249138921, 'length': 40, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8315354601790222, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8247422680412371, 'env_1_in_acc': 0.9498567335243553, 'env_1_out_acc': 0.8064146620847652, 'env_2_in_acc': 0.9943661971830986, 'env_2_out_acc': 0.9188275084554679, 'env_3_in_acc': 0.7977044476327116, 'env_3_out_acc': 0.8266360505166476, 'length': 40, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.680675731355583, 'env_0_in_acc': 0.6494845360824743, 'env_0_out_acc': 0.7051546391752578, 'env_1_in_acc': 0.9570200573065902, 'env_1_out_acc': 0.7961053837342497, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9334836527621195, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.8622273249138921, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.5883161512027492, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8061855670103093, 'env_1_in_acc': 0.5673352435530086, 'env_1_out_acc': 0.570446735395189, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9334836527621195, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8610792192881745, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8001802207704438, 'env_0_in_acc': 0.9948453608247423, 'env_0_out_acc': 0.8020618556701031, 'env_1_in_acc': 0.9498567335243553, 'env_1_out_acc': 0.7972508591065293, 'env_2_in_acc': 0.819718309859155, 'env_2_out_acc': 0.7880496054114995, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.851894374282434, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8212072526968097, 'env_0_in_acc': 0.9948453608247423, 'env_0_out_acc': 0.8082474226804124, 'env_1_in_acc': 0.9512893982808023, 'env_1_out_acc': 0.7983963344788088, 'env_2_in_acc': 0.995774647887324, 'env_2_out_acc': 0.9222096956031567, 'env_3_in_acc': 0.7919655667144907, 'env_3_out_acc': 0.8082663605051664, 'length': 20, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.6967449526163988, 'env_0_in_acc': 0.6855670103092784, 'env_0_out_acc': 0.7195876288659794, 'env_1_in_acc': 0.9627507163323782, 'env_1_out_acc': 0.8235967926689576, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9312288613303269, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.870264064293915, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6444444444444445, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8020618556701031, 'env_1_in_acc': 0.6275071633237822, 'env_1_out_acc': 0.6219931271477663, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9301014656144306, 'env_3_in_acc': 0.9913916786226685, 'env_3_out_acc': 0.8679678530424799, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.808740707366524, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.797938144329897, 'env_1_in_acc': 0.9570200573065902, 'env_1_out_acc': 0.8121420389461627, 'env_2_in_acc': 0.8154929577464789, 'env_2_out_acc': 0.8038331454340474, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.8599311136624569, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.82419095708056, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8268041237113402, 'env_1_in_acc': 0.9598853868194842, 'env_1_out_acc': 0.8087056128293242, 'env_2_in_acc': 0.9943661971830986, 'env_2_out_acc': 0.9188275084554679, 'env_3_in_acc': 0.7948350071736011, 'env_3_out_acc': 0.8163030998851895, 'length': 20, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.6955088586732592, 'env_0_in_acc': 0.6855670103092784, 'env_0_out_acc': 0.7175257731958763, 'env_1_in_acc': 0.9627507163323782, 'env_1_out_acc': 0.8190148911798396, 'env_2_in_acc': 0.9985915492957746, 'env_2_out_acc': 0.9312288613303269, 'env_3_in_acc': 0.9913916786226685, 'env_3_out_acc': 0.870264064293915, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6442153493699886, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8020618556701031, 'env_1_in_acc': 0.6303724928366762, 'env_1_out_acc': 0.6300114547537228, 'env_2_in_acc': 0.9915492957746479, 'env_2_out_acc': 0.9267192784667418, 'env_3_in_acc': 0.9913916786226685, 'env_3_out_acc': 0.8679678530424799, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8089659833295787, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.7958762886597938, 'env_1_in_acc': 0.9613180515759312, 'env_1_out_acc': 0.8121420389461627, 'env_2_in_acc': 0.8154929577464789, 'env_2_out_acc': 0.8038331454340474, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.8622273249138921, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8248795042460408, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8185567010309278, 'env_1_in_acc': 0.9584527220630372, 'env_1_out_acc': 0.8121420389461627, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9210822998872604, 'env_3_in_acc': 0.7948350071736011, 'env_3_out_acc': 0.8163030998851895, 'length': 20, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.6979810465595385, 'env_0_in_acc': 0.6855670103092784, 'env_0_out_acc': 0.7298969072164948, 'env_1_in_acc': 0.9541547277936963, 'env_1_out_acc': 0.8167239404352806, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9334836527621195, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8714121699196326, 'length': 60, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.633906071019473, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8185567010309278, 'env_1_in_acc': 0.6174785100286533, 'env_1_out_acc': 0.6151202749140894, 'env_2_in_acc': 0.9915492957746479, 'env_2_out_acc': 0.9301014656144306, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.870264064293915, 'length': 60, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8121198468123452, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8082474226804124, 'env_1_in_acc': 0.9541547277936963, 'env_1_out_acc': 0.8018327605956472, 'env_2_in_acc': 0.8295774647887324, 'env_2_out_acc': 0.8072153325817362, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8622273249138921, 'length': 60, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8294698186825797, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8206185567010309, 'env_1_in_acc': 0.9527220630372493, 'env_1_out_acc': 0.8109965635738832, 'env_2_in_acc': 0.9943661971830986, 'env_2_out_acc': 0.915445321307779, 'env_3_in_acc': 0.7977044476327116, 'env_3_out_acc': 0.8254879448909299, 'length': 60, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.6983930778739185, 'env_0_in_acc': 0.6778350515463918, 'env_0_out_acc': 0.7319587628865979, 'env_1_in_acc': 0.9527220630372493, 'env_1_out_acc': 0.8041237113402062, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9346110484780158, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8668197474167624, 'length': 40, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6215349369988545, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8103092783505155, 'env_1_in_acc': 0.5988538681948424, 'env_1_out_acc': 0.6025200458190149, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9323562570462233, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8656716417910447, 'length': 40, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8107681910340166, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8185567010309278, 'env_1_in_acc': 0.9512893982808023, 'env_1_out_acc': 0.8087056128293242, 'env_2_in_acc': 0.8253521126760563, 'env_2_out_acc': 0.8072153325817362, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8564867967853043, 'length': 40, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8301583658480606, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8144329896907216, 'env_1_in_acc': 0.9512893982808023, 'env_1_out_acc': 0.8098510882016037, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9177001127395716, 'env_3_in_acc': 0.8020086083213773, 'env_3_out_acc': 0.8243398392652124, 'length': 40, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.6955088586732592, 'env_0_in_acc': 0.6881443298969072, 'env_0_out_acc': 0.7216494845360825, 'env_1_in_acc': 0.9641833810888252, 'env_1_out_acc': 0.8235967926689576, 'env_2_in_acc': 0.9985915492957746, 'env_2_out_acc': 0.9334836527621195, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8760045924225028, 'length': 40, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.647880870561283, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8, 'env_1_in_acc': 0.6318051575931232, 'env_1_out_acc': 0.6288659793814433, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9289740698985344, 'env_3_in_acc': 0.9899569583931134, 'env_3_out_acc': 0.8668197474167624, 'length': 40, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8105429150709619, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.7958762886597938, 'env_1_in_acc': 0.9584527220630372, 'env_1_out_acc': 0.8087056128293242, 'env_2_in_acc': 0.8211267605633803, 'env_2_out_acc': 0.8049605411499436, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.8610792192881745, 'length': 40, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8253385356896947, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8206185567010309, 'env_1_in_acc': 0.9584527220630372, 'env_1_out_acc': 0.8132875143184422, 'env_2_in_acc': 0.9943661971830986, 'env_2_out_acc': 0.9177001127395716, 'env_3_in_acc': 0.7948350071736011, 'env_3_out_acc': 0.8151549942594719, 'length': 40, 'testenv': 3, 'topk': 0}

python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_erm_lplw_0926/

(pytorch) alexandrerame@devfair0751:~/slurmconfig/home0926/inf/runs$ cat enshome_erm_lplw_0926_top-10.slurm_66216747.out| grep printres
printres:  {'acc': 0.7008652657601978, 'env_0_in_acc': 0.6881443298969072, 'env_0_out_acc': 0.7319587628865979, 'env_1_in_acc': 0.9512893982808023, 'env_1_out_acc': 0.8132875143184422, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9323562570462233, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8691159586681975, 'length': 20, 'testenv': 0, 'topk': -10}
printres:  {'acc': 0.618327605956472, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8144329896907216, 'env_1_in_acc': 0.6002865329512894, 'env_1_out_acc': 0.5956471935853379, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9323562570462233, 'env_3_in_acc': 0.9885222381635581, 'env_3_out_acc': 0.870264064293915, 'length': 20, 'testenv': 1, 'topk': -10}
printres:  {'acc': 0.8080648794773597, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8103092783505155, 'env_1_in_acc': 0.9455587392550143, 'env_1_out_acc': 0.8075601374570447, 'env_2_in_acc': 0.8295774647887324, 'env_2_out_acc': 0.8038331454340474, 'env_3_in_acc': 0.9913916786226685, 'env_3_out_acc': 0.8587830080367393, 'length': 20, 'testenv': 2, 'topk': -10}
printres:  {'acc': 0.8296993344044067, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.822680412371134, 'env_1_in_acc': 0.9484240687679083, 'env_1_out_acc': 0.8041237113402062, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9165727170236753, 'env_3_in_acc': 0.7991391678622669, 'env_3_out_acc': 0.8220436280137773, 'length': 20, 'testenv': 3, 'topk': -10}


printres:  {'acc': 0.6996291718170581, 'env_0_in_acc': 0.6907216494845361, 'env_0_out_acc': 0.7216494845360825, 'env_1_in_acc': 0.9570200573065902, 'env_1_out_acc': 0.8201603665521191, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9289740698985344, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8725602755453502, 'length': 21, 'testenv': 0, 'topk': -7}
printres:  {'acc': 0.629553264604811, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8123711340206186, 'env_1_in_acc': 0.6074498567335244, 'env_1_out_acc': 0.6093928980526919, 'env_2_in_acc': 0.9929577464788732, 'env_2_out_acc': 0.9312288613303269, 'env_3_in_acc': 0.9899569583931134, 'env_3_out_acc': 0.8748564867967853, 'length': 21, 'testenv': 1, 'topk': -7}
printres:  {'acc': 0.8118945708492904, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8123711340206186, 'env_1_in_acc': 0.9498567335243553, 'env_1_out_acc': 0.8087056128293242, 'env_2_in_acc': 0.8211267605633803, 'env_2_out_acc': 0.8038331454340474, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8610792192881745, 'length': 21, 'testenv': 2, 'topk': -7}
printres:  {'acc': 0.8287812715170989, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8247422680412371, 'env_1_in_acc': 0.9541547277936963, 'env_1_out_acc': 0.8052691867124857, 'env_2_in_acc': 0.9943661971830986, 'env_2_out_acc': 0.9210822998872604, 'env_3_in_acc': 0.8020086083213773, 'env_3_out_acc': 0.8243398392652124, 'length': 21, 'testenv': 3, 'topk': -7}


printres:  {'acc': 0.6967449526163988, 'env_0_in_acc': 0.6829896907216495, 'env_0_out_acc': 0.7216494845360825, 'env_1_in_acc': 0.9527220630372493, 'env_1_out_acc': 0.8087056128293242, 'env_2_in_acc': 0.995774647887324, 'env_2_out_acc': 0.9357384441939121, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.8679678530424799, 'length': 20, 'testenv': 0, 'topk': -10}
printres:  {'acc': 0.6178694158075602, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8041237113402062, 'env_1_in_acc': 0.5988538681948424, 'env_1_out_acc': 0.5956471935853379, 'env_2_in_acc': 0.9901408450704225, 'env_2_out_acc': 0.9289740698985344, 'env_3_in_acc': 0.9885222381635581, 'env_3_out_acc': 0.8679678530424799, 'length': 20, 'testenv': 1, 'topk': -10}
printres:  {'acc': 0.8089659833295787, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8185567010309278, 'env_1_in_acc': 0.9441260744985673, 'env_1_out_acc': 0.8087056128293242, 'env_2_in_acc': 0.823943661971831, 'env_2_out_acc': 0.8038331454340474, 'env_3_in_acc': 0.9899569583931134, 'env_3_out_acc': 0.8610792192881745, 'length': 20, 'testenv': 2, 'topk': -10}
printres:  {'acc': 0.8274041771861372, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.8164948453608247, 'env_1_in_acc': 0.9484240687679083, 'env_1_out_acc': 0.8075601374570447, 'env_2_in_acc': 0.9915492957746479, 'env_2_out_acc': 0.9143179255918827, 'env_3_in_acc': 0.8077474892395983, 'env_3_out_acc': 0.8140068886337543, 'length': 20, 'testenv': 3, 'topk': -10}

printres:  {'acc': 0.6979810465595385, 'env_0_in_acc': 0.6907216494845361, 'env_0_out_acc': 0.7257731958762886, 'env_1_in_acc': 0.9598853868194842, 'env_1_out_acc': 0.8213058419243986, 'env_2_in_acc': 0.9971830985915493, 'env_2_out_acc': 0.9334836527621195, 'env_3_in_acc': 0.9928263988522238, 'env_3_out_acc': 0.870264064293915, 'length': 20, 'testenv': 0, 'topk': -10}
printres:  {'acc': 0.6435280641466209, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.797938144329897, 'env_1_in_acc': 0.6332378223495702, 'env_1_out_acc': 0.6231386025200458, 'env_2_in_acc': 0.9901408450704225, 'env_2_out_acc': 0.9244644870349493, 'env_3_in_acc': 0.9885222381635581, 'env_3_out_acc': 0.870264064293915, 'length': 20, 'testenv': 1, 'topk': -10}
printres:  {'acc': 0.8085154314034693, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.8041237113402062, 'env_1_in_acc': 0.9555873925501432, 'env_1_out_acc': 0.8132875143184422, 'env_2_in_acc': 0.819718309859155, 'env_2_out_acc': 0.8049605411499436, 'env_3_in_acc': 0.994261119081779, 'env_3_out_acc': 0.8610792192881745, 'length': 20, 'testenv': 2, 'topk': -10}
printres:  {'acc': 0.8255680514115217, 'env_0_in_acc': 0.9974226804123711, 'env_0_out_acc': 0.822680412371134, 'env_1_in_acc': 0.9598853868194842, 'env_1_out_acc': 0.8132875143184422, 'env_2_in_acc': 0.9943661971830986, 'env_2_out_acc': 0.9244644870349493, 'env_3_in_acc': 0.787661406025825, 'env_3_out_acc': 0.817451205510907, 'length': 20, 'testenv': 3, 'topk': -10}

printres:  {'acc': 0.6979810465595385, 'acc_ens': 0.681087762669963, 'acc_netm': 0.6331891223733004, 'divq_netm': 0.9240902599057311, 'divr_netm': 0.5609250901969838, 'env_0_in_acc': 0.6726804123711341, 'env_0_in_acc_ens': 0.654639175257732, 'env_0_in_acc_netm': 0.609020618556701, 'env_0_in_divq_netm': 0.9302813783176894, 'env_0_in_divr_netm': 0.5116895700624507, 'env_0_out_acc': 0.7237113402061855, 'env_0_out_acc_ens': 0.6948453608247422, 'env_0_out_acc_netm': 0.6441237113402061, 'env_0_out_divq_netm': 0.9152476983860245, 'env_0_out_divr_netm': 0.6117197141787769, 'env_1_in_acc': 0.9527220630372493, 'env_1_in_acc_ens': 0.9684813753581661, 'env_1_in_acc_netm': 0.9445558739255013, 'env_1_in_divq_netm': 0.9686873191227064, 'env_1_in_divr_netm': 1.3669873328454274, 'env_1_out_acc': 0.8006872852233677, 'env_1_out_acc_ens': 0.8006872852233677, 'env_1_out_acc_netm': 0.7781786941580757, 'env_1_out_divq_netm': 0.9615132358543956, 'env_1_out_divr_netm': 0.5839456922968639, 'env_2_in_acc': 0.9971830985915493, 'env_2_in_acc_ens': 0.9971830985915493, 'env_2_in_acc_netm': 0.9930985915492956, 'env_2_in_divq_netm': 0.2988380906841449, 'env_2_in_divr_netm': 3.5697121324437853, 'env_2_out_acc': 0.9334836527621195, 'env_2_out_acc_ens': 0.9323562570462233, 'env_2_out_acc_netm': 0.9075535512965051, 'env_2_out_divq_netm': 0.9610859204855294, 'env_2_out_divr_netm': 1.086006244778542, 'env_3_in_acc': 0.9913916786226685, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.9865136298421808, 'env_3_in_divq_netm': 0.9820098090197432, 'env_3_in_divr_netm': 2.4704908103592316, 'env_3_out_acc': 0.8610792192881745, 'env_3_out_acc_ens': 0.870264064293915, 'env_3_out_acc_netm': 0.8380597014925373, 'env_3_out_divq_netm': 0.9499211760211235, 'env_3_out_divr_netm': 0.8412506573838898, 'length': 20, 'testenv': 0, 'topk': 10}
printres:  {'acc': 0.680675731355583, 'acc_ens': 0.6679027606098064, 'acc_netm': 0.6177997527812115, 'divq_netm': 0.9195821260823821, 'divr_netm': 0.5525942898120969, 'env_0_in_acc': 0.6494845360824743, 'env_0_in_acc_ens': 0.6288659793814433, 'env_0_in_acc_netm': 0.5885309278350516, 'env_0_in_divq_netm': 0.9224601180635654, 'env_0_in_divr_netm': 0.5080270210441673, 'env_0_out_acc': 0.7051546391752578, 'env_0_out_acc_ens': 0.6824742268041237, 'env_0_out_acc_netm': 0.6286597938144329, 'env_0_out_divq_netm': 0.917158137307365, 'env_0_out_divr_netm': 0.5772794592567337, 'env_1_in_acc': 0.9570200573065902, 'env_1_in_acc_ens': 0.9613180515759312, 'env_1_in_acc_netm': 0.9415472779369628, 'env_1_in_divq_netm': 0.9648379259503941, 'env_1_in_divr_netm': 1.4243031637324521, 'env_1_out_acc': 0.7961053837342497, 'env_1_out_acc_ens': 0.7903780068728522, 'env_1_out_acc_netm': 0.7654639175257734, 'env_1_out_divq_netm': 0.9618554348555569, 'env_1_out_divr_netm': 0.5523117374469257, 'env_2_in_acc': 0.9971830985915493, 'env_2_in_acc_ens': 0.9971830985915493, 'env_2_in_acc_netm': 0.992887323943662, 'env_2_in_divq_netm': nan, 'env_2_in_divr_netm': 3.8590486780331106, 'env_2_out_acc': 0.9334836527621195, 'env_2_out_acc_ens': 0.9289740698985344, 'env_2_out_acc_netm': 0.9046786922209694, 'env_2_out_divq_netm': 0.9587779654599133, 'env_2_out_divr_netm': 1.0946848746187217, 'env_3_in_acc': 0.994261119081779, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.98428981348637, 'env_3_in_divq_netm': 0.9723269765240636, 'env_3_in_divr_netm': 3.1458333333333335, 'env_3_out_acc': 0.8622273249138921, 'env_3_out_acc_ens': 0.8633754305396096, 'env_3_out_acc_netm': 0.8285304247990813, 'env_3_out_divq_netm': 0.9443084737096707, 'env_3_out_divr_netm': 0.863153308847907, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6967449526163988, 'acc_ens': 0.6773794808405439, 'acc_netm': 0.6318294190358468, 'divq_netm': 0.9287633847534346, 'divr_netm': 0.5384746171220792, 'env_0_in_acc': 0.6855670103092784, 'env_0_in_acc_ens': 0.6520618556701031, 'env_0_in_acc_netm': 0.6085051546391754, 'env_0_in_divq_netm': 0.9297871524276571, 'env_0_in_divr_netm': 0.5079377835513247, 'env_0_out_acc': 0.7195876288659794, 'env_0_out_acc_ens': 0.6907216494845361, 'env_0_out_acc_netm': 0.6435051546391751, 'env_0_out_divq_netm': 0.9227680727054974, 'env_0_out_divr_netm': 0.5801137168884452, 'env_1_in_acc': 0.9627507163323782, 'env_1_in_acc_ens': 0.9613180515759312, 'env_1_in_acc_netm': 0.943624641833811, 'env_1_in_divq_netm': 0.9663666397559311, 'env_1_in_divr_netm': 1.4083100546978977, 'env_1_out_acc': 0.8235967926689576, 'env_1_out_acc_ens': 0.8235967926689576, 'env_1_out_acc_netm': 0.7878006872852236, 'env_1_out_divq_netm': 0.9618024989789115, 'env_1_out_divr_netm': 0.5924422408187648, 'env_2_in_acc': 0.9971830985915493, 'env_2_in_acc_ens': 0.995774647887324, 'env_2_in_acc_netm': 0.9907042253521128, 'env_2_in_divq_netm': 0.6347733593362436, 'env_2_in_divr_netm': 5.61738695329874, 'env_2_out_acc': 0.9312288613303269, 'env_2_out_acc_ens': 0.9278466741826381, 'env_2_out_acc_netm': 0.9061443066516348, 'env_2_out_divq_netm': 0.9617626297214942, 'env_2_out_divr_netm': 1.0668580260881186, 'env_3_in_acc': 0.9928263988522238, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.9847202295552367, 'env_3_in_divq_netm': 0.9798700554133046, 'env_3_in_divr_netm': 2.5030388471177947, 'env_3_out_acc': 0.870264064293915, 'env_3_out_acc_ens': 0.8679678530424799, 'env_3_out_acc_netm': 0.8359357060849598, 'env_3_out_divq_netm': 0.9536084123202727, 'env_3_out_divr_netm': 0.8020429605694376, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6955088586732592, 'acc_ens': 0.6868562010712814, 'acc_netm': 0.6321796456530697, 'divq_netm': 0.9319577216978877, 'divr_netm': 0.525705944315377, 'env_0_in_acc': 0.6855670103092784, 'env_0_in_acc_ens': 0.6675257731958762, 'env_0_in_acc_netm': 0.6122422680412372, 'env_0_in_divq_netm': 0.9292996055299901, 'env_0_in_divr_netm': 0.5078200962432551, 'env_0_out_acc': 0.7175257731958763, 'env_0_out_acc_ens': 0.711340206185567, 'env_0_out_acc_netm': 0.6451546391752576, 'env_0_out_divq_netm': 0.931047469649208, 'env_0_out_divr_netm': 0.5508247836144173, 'env_1_in_acc': 0.9627507163323782, 'env_1_in_acc_ens': 0.9613180515759312, 'env_1_in_acc_netm': 0.9456303724928364, 'env_1_in_divq_netm': 0.9689666708454662, 'env_1_in_divr_netm': 1.3786504556187316, 'env_1_out_acc': 0.8190148911798396, 'env_1_out_acc_ens': 0.8190148911798396, 'env_1_out_acc_netm': 0.7910652920962201, 'env_1_out_divq_netm': 0.9600746054102596, 'env_1_out_divr_netm': 0.6154678293906206, 'env_2_in_acc': 0.9985915492957746, 'env_2_in_acc_ens': 0.9971830985915493, 'env_2_in_acc_netm': 0.9905633802816901, 'env_2_in_divq_netm': 0.4720724999848144, 'env_2_in_divr_netm': 5.244930812947863, 'env_2_out_acc': 0.9312288613303269, 'env_2_out_acc_ens': 0.9255918827508456, 'env_2_out_acc_netm': 0.9031003382187149, 'env_2_out_divq_netm': 0.9615849874034812, 'env_2_out_divr_netm': 1.0371563201718608, 'env_3_in_acc': 0.9913916786226685, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.9826398852223817, 'env_3_in_divq_netm': 0.9799757564035633, 'env_3_in_divr_netm': 2.2415413533834583, 'env_3_out_acc': 0.870264064293915, 'env_3_out_acc_ens': 0.8691159586681975, 'env_3_out_acc_netm': 0.834385763490241, 'env_3_out_divq_netm': 0.9563037521226492, 'env_3_out_divr_netm': 0.7720613114194003, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6151202749140894, 'acc_ens': 0.6146620847651776, 'acc_netm': 0.5676746849942725, 'divq_netm': 0.9409679127546897, 'divr_netm': 0.4372771178295322, 'env_0_in_acc': 0.9974226804123711, 'env_0_in_acc_ens': 0.9974226804123711, 'env_0_in_acc_netm': 0.9927835051546392, 'env_0_in_divq_netm': 0.3609113104708797, 'env_0_in_divr_netm': 2.0902423584735037, 'env_0_out_acc': 0.8082474226804124, 'env_0_out_acc_ens': 0.8061855670103093, 'env_0_out_acc_netm': 0.7758762886597939, 'env_0_out_divq_netm': 0.9543175691154827, 'env_0_out_divr_netm': 0.6277177291498356, 'env_1_in_acc': 0.5945558739255015, 'env_1_in_acc_ens': 0.5916905444126075, 'env_1_in_acc_netm': 0.5517191977077365, 'env_1_in_divq_netm': 0.9423166241024531, 'env_1_in_divr_netm': 0.4202357969324302, 'env_1_out_acc': 0.5979381443298969, 'env_1_out_acc_ens': 0.5979381443298969, 'env_1_out_acc_netm': 0.550114547537228, 'env_1_out_divq_netm': 0.9415267165582528, 'env_1_out_divr_netm': 0.4152186020183736, 'env_2_in_acc': 0.9943661971830986, 'env_2_in_acc_ens': 0.9929577464788732, 'env_2_in_acc_netm': 0.9904225352112676, 'env_2_in_divq_netm': 0.9132948646771255, 'env_2_in_divr_netm': 4.1727088848882765, 'env_2_out_acc': 0.9323562570462233, 'env_2_out_acc_ens': 0.9402480270574972, 'env_2_out_acc_netm': 0.9098083427282978, 'env_2_out_divq_netm': 0.9624843311534508, 'env_2_out_divr_netm': 1.0731642309922875, 'env_3_in_acc': 0.9928263988522238, 'env_3_in_acc_ens': 0.994261119081779, 'env_3_in_acc_netm': 0.9877331420373027, 'env_3_in_divq_netm': 0.9847297262042893, 'env_3_in_divr_netm': 2.4682456140350877, 'env_3_out_acc': 0.8656716417910447, 'env_3_out_acc_ens': 0.8714121699196326, 'env_3_out_acc_netm': 0.8474741676234213, 'env_3_out_divq_netm': 0.9530762806246804, 'env_3_out_divr_netm': 0.8489123337185291, 'length': 20, 'testenv': 1, 'topk': 10}
printres:  {'acc': 0.5883161512027492, 'acc_ens': 0.5807560137457045, 'acc_netm': 0.526139747995418, 'divq_netm': 0.9291471615634647, 'divr_netm': 0.40942674825366, 'env_0_in_acc': 0.9974226804123711, 'env_0_in_acc_ens': 0.9974226804123711, 'env_0_in_acc_netm': 0.9882731958762887, 'env_0_in_divq_netm': 0.641546712427665, 'env_0_in_divr_netm': 4.195035268583831, 'env_0_out_acc': 0.8061855670103093, 'env_0_out_acc_ens': 0.8082474226804124, 'env_0_out_acc_netm': 0.7669072164948455, 'env_0_out_divq_netm': 0.9447545903383993, 'env_0_out_divr_netm': 0.6824346081494597, 'env_1_in_acc': 0.5673352435530086, 'env_1_in_acc_ens': 0.5544412607449857, 'env_1_in_acc_netm': 0.5072349570200574, 'env_1_in_divq_netm': 0.9332703775334448, 'env_1_in_divr_netm': 0.3798598918553411, 'env_1_out_acc': 0.570446735395189, 'env_1_out_acc_ens': 0.561282932416953, 'env_1_out_acc_netm': 0.5092210767468499, 'env_1_out_divq_netm': 0.9290632892051777, 'env_1_out_divr_netm': 0.3920279570920529, 'env_2_in_acc': 0.9929577464788732, 'env_2_in_acc_ens': 0.9929577464788732, 'env_2_in_acc_netm': 0.9882394366197182, 'env_2_in_divq_netm': 0.911587716289955, 'env_2_in_divr_netm': 4.0414467506795155, 'env_2_out_acc': 0.9334836527621195, 'env_2_out_acc_ens': 0.9368658399098083, 'env_2_out_acc_netm': 0.9047350620067645, 'env_2_out_divq_netm': 0.9554502421289298, 'env_2_out_divr_netm': 1.1634673995664193, 'env_3_in_acc': 0.9928263988522238, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.982568149210904, 'env_3_in_divq_netm': 0.9649312976728258, 'env_3_in_divr_netm': 3.5096616541353383, 'env_3_out_acc': 0.8610792192881745, 'env_3_out_acc_ens': 0.8714121699196326, 'env_3_out_acc_netm': 0.8397244546498278, 'env_3_out_divq_netm': 0.943373423323238, 'env_3_out_divr_netm': 0.914817247457868, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.6444444444444445, 'acc_ens': 0.6419243986254296, 'acc_netm': 0.6063344788087056, 'divq_netm': 0.9498459751911249, 'divr_netm': 0.40556096247510437, 'env_0_in_acc': 0.9974226804123711, 'env_0_in_acc_ens': 1.0, 'env_0_in_acc_netm': 0.9819587628865982, 'env_0_in_divq_netm': -0.09330398453830387, 'env_0_in_divr_netm': 3.3959667209260265, 'env_0_out_acc': 0.8020618556701031, 'env_0_out_acc_ens': 0.8, 'env_0_out_acc_netm': 0.773917525773196, 'env_0_out_divq_netm': 0.9556734332538975, 'env_0_out_divr_netm': 0.596220277626201, 'env_1_in_acc': 0.6275071633237822, 'env_1_in_acc_ens': 0.6203438395415473, 'env_1_in_acc_netm': 0.5972779369627508, 'env_1_in_divq_netm': 0.9494457158226317, 'env_1_in_divr_netm': 0.39802487734106634, 'env_1_out_acc': 0.6219931271477663, 'env_1_out_acc_ens': 0.6242840778923253, 'env_1_out_acc_netm': 0.5917525773195875, 'env_1_out_divq_netm': 0.9561523618105172, 'env_1_out_divr_netm': 0.36548395098421965, 'env_2_in_acc': 0.9929577464788732, 'env_2_in_acc_ens': 0.9943661971830986, 'env_2_in_acc_netm': 0.983098591549296, 'env_2_in_divq_netm': 0.8107913593356736, 'env_2_in_divr_netm': 4.0774981467753895, 'env_2_out_acc': 0.9301014656144306, 'env_2_out_acc_ens': 0.9289740698985344, 'env_2_out_acc_netm': 0.9037204058624578, 'env_2_out_divq_netm': 0.9615621538914505, 'env_2_out_divr_netm': 1.0304822128255589, 'env_3_in_acc': 0.9913916786226685, 'env_3_in_acc_ens': 0.9928263988522238, 'env_3_in_acc_netm': 0.9690100430416069, 'env_3_in_divq_netm': 0.968702013212718, 'env_3_in_divr_netm': 4.660263157894737, 'env_3_out_acc': 0.8679678530424799, 'env_3_out_acc_ens': 0.8737083811710677, 'env_3_out_acc_netm': 0.8484500574052813, 'env_3_out_divq_netm': 0.9572055823039632, 'env_3_out_divr_netm': 0.7880434841583768, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.6442153493699886, 'acc_ens': 0.6403207331042382, 'acc_netm': 0.6099083619702176, 'divq_netm': 0.9490310920901518, 'divr_netm': 0.40316908063805323, 'env_0_in_acc': 0.9974226804123711, 'env_0_in_acc_ens': 1.0, 'env_0_in_acc_netm': 0.9792525773195878, 'env_0_in_divq_netm': nan, 'env_0_in_divr_netm': 3.372246337493218, 'env_0_out_acc': 0.8020618556701031, 'env_0_out_acc_ens': 0.7958762886597938, 'env_0_out_acc_netm': 0.7746391752577321, 'env_0_out_divq_netm': 0.9654158701823693, 'env_0_out_divr_netm': 0.5238219732973565, 'env_1_in_acc': 0.6303724928366762, 'env_1_in_acc_ens': 0.6260744985673352, 'env_1_in_acc_netm': 0.6034383954154727, 'env_1_in_divq_netm': 0.9509673003440257, 'env_1_in_divr_netm': 0.3884071917681188, 'env_1_out_acc': 0.6300114547537228, 'env_1_out_acc_ens': 0.6242840778923253, 'env_1_out_acc_netm': 0.5971363115693011, 'env_1_out_divq_netm': 0.9525683832436411, 'env_1_out_divr_netm': 0.37610819330862494, 'env_2_in_acc': 0.9915492957746479, 'env_2_in_acc_ens': 0.9929577464788732, 'env_2_in_acc_netm': 0.9812676056338029, 'env_2_in_divq_netm': 0.808005462743101, 'env_2_in_divr_netm': 5.634838504712486, 'env_2_out_acc': 0.9267192784667418, 'env_2_out_acc_ens': 0.9244644870349493, 'env_2_out_acc_netm': 0.9032130777903044, 'env_2_out_divq_netm': 0.9601169524004914, 'env_2_out_divr_netm': 1.0405094005705209, 'env_3_in_acc': 0.9913916786226685, 'env_3_in_acc_ens': 0.994261119081779, 'env_3_in_acc_netm': 0.9667862266857963, 'env_3_in_divq_netm': 0.9568970081599694, 'env_3_in_divr_netm': 5.293615288220551, 'env_3_out_acc': 0.8679678530424799, 'env_3_out_acc_ens': 0.8725602755453502, 'env_3_out_acc_netm': 0.8494833524684269, 'env_3_out_divq_netm': 0.9602970016191811, 'env_3_out_divr_netm': 0.7495313998435608, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.8058121198468123, 'acc_ens': 0.809641811218743, 'acc_netm': 0.7764811894570849, 'divq_netm': 0.9494887042557477, 'divr_netm': 0.6681698615666477, 'env_0_in_acc': 1.0, 'env_0_in_acc_ens': 0.9948453608247423, 'env_0_in_acc_netm': 0.9914948453608249, 'env_0_in_divq_netm': 0.4925510883318427, 'env_0_in_divr_netm': 2.5190902514017, 'env_0_out_acc': 0.8123711340206186, 'env_0_out_acc_ens': 0.8020618556701031, 'env_0_out_acc_netm': 0.7769072164948454, 'env_0_out_divq_netm': 0.9497185581660529, 'env_0_out_divr_netm': 0.662500364592569, 'env_1_in_acc': 0.9441260744985673, 'env_1_in_acc_ens': 0.9541547277936963, 'env_1_in_acc_netm': 0.9386819484240686, 'env_1_in_divq_netm': 0.9702040381671523, 'env_1_in_divr_netm': 1.234356769203168, 'env_1_out_acc': 0.8029782359679267, 'env_1_out_acc_ens': 0.8098510882016037, 'env_1_out_acc_netm': 0.7750859106529211, 'env_1_out_divq_netm': 0.9540301225146365, 'env_1_out_divr_netm': 0.6381872668062669, 'env_2_in_acc': 0.8253521126760563, 'env_2_in_acc_ens': 0.8295774647887324, 'env_2_in_acc_netm': 0.7946478873239436, 'env_2_in_divq_netm': 0.9522608598977235, 'env_2_in_divr_netm': 0.6970113569904954, 'env_2_out_acc': 0.8027057497181511, 'env_2_out_acc_ens': 0.7970687711386697, 'env_2_out_acc_netm': 0.7644870349492672, 'env_2_out_divq_netm': 0.9458173675949605, 'env_2_out_divr_netm': 0.6679507504115809, 'env_3_in_acc': 0.9928263988522238, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.9827116212338594, 'env_3_in_divq_netm': 0.977889428518722, 'env_3_in_divr_netm': 2.68775046590836, 'env_3_out_acc': 0.8587830080367393, 'env_3_out_acc_ens': 0.8633754305396096, 'env_3_out_acc_netm': 0.8317451205510908, 'env_3_out_divq_netm': 0.9542472337883471, 'env_3_out_divr_netm': 0.7760092919653121, 'length': 20, 'testenv': 2, 'topk': 10}
printres:  {'acc': 0.8001802207704438, 'acc_ens': 0.7981527371029511, 'acc_netm': 0.7609371480063076, 'divq_netm': 0.9438591155404576, 'divr_netm': 0.676866607504011, 'env_0_in_acc': 0.9948453608247423, 'env_0_in_acc_ens': 0.9948453608247423, 'env_0_in_acc_netm': 0.9890463917525774, 'env_0_in_divq_netm': 0.6176144875286124, 'env_0_in_divr_netm': 3.231976849339844, 'env_0_out_acc': 0.8020618556701031, 'env_0_out_acc_ens': 0.8, 'env_0_out_acc_netm': 0.7654639175257731, 'env_0_out_divq_netm': 0.9404402126898904, 'env_0_out_divr_netm': 0.7060109843148167, 'env_1_in_acc': 0.9498567335243553, 'env_1_in_acc_ens': 0.9512893982808023, 'env_1_in_acc_netm': 0.9344555873925501, 'env_1_in_divq_netm': 0.9718480195534895, 'env_1_in_divr_netm': 1.1680632708587206, 'env_1_out_acc': 0.7972508591065293, 'env_1_out_acc_ens': 0.8052691867124857, 'env_1_out_acc_netm': 0.764089347079038, 'env_1_out_divq_netm': 0.9562296363774692, 'env_1_out_divr_netm': 0.5933550215794516, 'env_2_in_acc': 0.819718309859155, 'env_2_in_acc_ens': 0.8211267605633803, 'env_2_in_acc_netm': 0.7764788732394367, 'env_2_in_divq_netm': 0.9367584372681054, 'env_2_in_divr_netm': 0.7697277187866438, 'env_2_out_acc': 0.7880496054114995, 'env_2_out_acc_ens': 0.7812852311161218, 'env_2_out_acc_netm': 0.7489289740698986, 'env_2_out_divq_netm': 0.9414552844714837, 'env_2_out_divr_netm': 0.6660132128463722, 'env_3_in_acc': 0.994261119081779, 'env_3_in_acc_ens': 0.9928263988522238, 'env_3_in_acc_netm': 0.9822812051649927, 'env_3_in_divq_netm': 0.9608176024334362, 'env_3_in_divr_netm': 3.5750730994152047, 'env_3_out_acc': 0.851894374282434, 'env_3_out_acc_ens': 0.8587830080367393, 'env_3_out_acc_netm': 0.8238805970149252, 'env_3_out_divq_netm': 0.9450969162774309, 'env_3_out_divr_netm': 0.8435729448523955, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.808740707366524, 'acc_ens': 0.808740707366524, 'acc_netm': 0.7740031538634827, 'divq_netm': 0.9480072196379429, 'divr_netm': 0.6767374666697276, 'env_0_in_acc': 1.0, 'env_0_in_acc_ens': 0.9974226804123711, 'env_0_in_acc_netm': 0.9891752577319588, 'env_0_in_divq_netm': nan, 'env_0_in_divr_netm': 3.423119008862362, 'env_0_out_acc': 0.797938144329897, 'env_0_out_acc_ens': 0.8020618556701031, 'env_0_out_acc_netm': 0.7754639175257733, 'env_0_out_divq_netm': 0.9518162486703129, 'env_0_out_divr_netm': 0.6458052441440123, 'env_1_in_acc': 0.9570200573065902, 'env_1_in_acc_ens': 0.9598853868194842, 'env_1_in_acc_netm': 0.9398280802292263, 'env_1_in_divq_netm': 0.9603285327043992, 'env_1_in_divr_netm': 1.54328716276615, 'env_1_out_acc': 0.8121420389461627, 'env_1_out_acc_ens': 0.8155784650630011, 'env_1_out_acc_netm': 0.7828751431844218, 'env_1_out_divq_netm': 0.9558245705389302, 'env_1_out_divr_netm': 0.6358343625651519, 'env_2_in_acc': 0.8154929577464789, 'env_2_in_acc_ens': 0.8225352112676056, 'env_2_in_acc_netm': 0.7890845070422535, 'env_2_in_divq_netm': 0.9503181692649226, 'env_2_in_divr_netm': 0.6999671091912348, 'env_2_out_acc': 0.8038331454340474, 'env_2_out_acc_ens': 0.8038331454340474, 'env_2_out_acc_netm': 0.762683201803833, 'env_2_out_divq_netm': 0.9451380503583332, 'env_2_out_divr_netm': 0.6728928244979538, 'env_3_in_acc': 0.994261119081779, 'env_3_in_acc_ens': 0.9928263988522238, 'env_3_in_acc_netm': 0.9794835007173601, 'env_3_in_divq_netm': 0.9686413840644859, 'env_3_in_divr_netm': 3.0719657389394235, 'env_3_out_acc': 0.8599311136624569, 'env_3_out_acc_ens': 0.8599311136624569, 'env_3_out_acc_netm': 0.8284156142365097, 'env_3_out_divq_netm': 0.9514200817726407, 'env_3_out_divr_netm': 0.7972975611409837, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8089659833295787, 'acc_ens': 0.8098670871817977, 'acc_netm': 0.7767177292182923, 'divq_netm': 0.9525783795665348, 'divr_netm': 0.6478192873580482, 'env_0_in_acc': 1.0, 'env_0_in_acc_ens': 1.0, 'env_0_in_acc_netm': 0.9871134020618557, 'env_0_in_divq_netm': nan, 'env_0_in_divr_netm': 4.00449448363176, 'env_0_out_acc': 0.7958762886597938, 'env_0_out_acc_ens': 0.8041237113402062, 'env_0_out_acc_netm': 0.7802061855670104, 'env_0_out_divq_netm': 0.9542180006466205, 'env_0_out_divr_netm': 0.6355475637837932, 'env_1_in_acc': 0.9613180515759312, 'env_1_in_acc_ens': 0.9584527220630372, 'env_1_in_acc_netm': 0.93689111747851, 'env_1_in_divq_netm': 0.9603058317017781, 'env_1_in_divr_netm': 1.560262353083971, 'env_1_out_acc': 0.8121420389461627, 'env_1_out_acc_ens': 0.8155784650630011, 'env_1_out_acc_netm': 0.784593356242841, 'env_1_out_divq_netm': 0.9549290725587244, 'env_1_out_divr_netm': 0.6469742315039254, 'env_2_in_acc': 0.8154929577464789, 'env_2_in_acc_ens': 0.8183098591549296, 'env_2_in_acc_netm': 0.7849295774647888, 'env_2_in_divq_netm': 0.9542782714214046, 'env_2_in_divr_netm': 0.6590212957950249, 'env_2_out_acc': 0.8038331454340474, 'env_2_out_acc_ens': 0.8004509582863585, 'env_2_out_acc_netm': 0.7643179255918827, 'env_2_out_divq_netm': 0.9513449839788354, 'env_2_out_divr_netm': 0.6355423047207842, 'env_3_in_acc': 0.994261119081779, 'env_3_in_acc_ens': 0.9913916786226685, 'env_3_in_acc_netm': 0.973816355810617, 'env_3_in_divq_netm': 0.9644944785765123, 'env_3_in_divr_netm': 3.7186804231471826, 'env_3_out_acc': 0.8622273249138921, 'env_3_out_acc_ens': 0.8622273249138921, 'env_3_out_acc_netm': 0.832548794489093, 'env_3_out_divq_netm': 0.9505763070279685, 'env_3_out_divr_netm': 0.8184694549881945, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.8306173972917145, 'acc_ens': 0.8287812715170989, 'acc_netm': 0.7934358503557493, 'divq_netm': 0.9449229010052494, 'divr_netm': 0.7468539699537563, 'env_0_in_acc': 0.9974226804123711, 'env_0_in_acc_ens': 0.9948453608247423, 'env_0_in_acc_netm': 0.9905927835051548, 'env_0_in_divq_netm': nan, 'env_0_in_divr_netm': 2.222278893109061, 'env_0_out_acc': 0.8288659793814434, 'env_0_out_acc_ens': 0.822680412371134, 'env_0_out_acc_netm': 0.778556701030928, 'env_0_out_divq_netm': 0.9380743583842404, 'env_0_out_divr_netm': 0.7542356487331662, 'env_1_in_acc': 0.9469914040114613, 'env_1_in_acc_ens': 0.9598853868194842, 'env_1_in_acc_netm': 0.9363180515759313, 'env_1_in_divq_netm': 0.963895411306659, 'env_1_in_divr_netm': 1.3746986764661875, 'env_1_out_acc': 0.8052691867124857, 'env_1_out_acc_ens': 0.8087056128293242, 'env_1_out_acc_netm': 0.7777205040091639, 'env_1_out_divq_netm': 0.9630978462614316, 'env_1_out_divr_netm': 0.5635273116537971, 'env_2_in_acc': 0.9929577464788732, 'env_2_in_acc_ens': 0.9971830985915493, 'env_2_in_acc_netm': 0.9898591549295774, 'env_2_in_divq_netm': 0.8657677812196414, 'env_2_in_divr_netm': 4.7801030745878785, 'env_2_out_acc': 0.9188275084554679, 'env_2_out_acc_ens': 0.9199549041713642, 'env_2_out_acc_netm': 0.8977452085682074, 'env_2_out_divq_netm': 0.9626565562063784, 'env_2_out_divr_netm': 0.9825801707695354, 'env_3_in_acc': 0.8005738880918221, 'env_3_in_acc_ens': 0.7905308464849354, 'env_3_in_acc_netm': 0.7643472022955524, 'env_3_in_divq_netm': 0.9470671887748369, 'env_3_in_divr_netm': 0.669345003064458, 'env_3_out_acc': 0.8220436280137773, 'env_3_out_acc_ens': 0.8197474167623421, 'env_3_out_acc_netm': 0.7885189437428244, 'env_3_out_divq_netm': 0.950146533382993, 'env_3_out_divr_netm': 0.6923773643293212, 'length': 20, 'testenv': 3, 'topk': 10}

(pytorch) alexandrerame@devfair0751:~/slurmconfig/home0926/inf/runs$ cat enshome_twamaspe_lpl4_0926.slurm_66271498.out | grep printres
printres:  {'acc': 0.6736711990111248, 'acc_ens': 0.6608982282653482, 'acc_netm': 0.6098063452822415, 'divq_netm': 0.9284086540666049, 'divr_netm': 0.5077201862421473, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8677309007981756, 'train_acc_ens': 0.8658304827061953, 'train_acc_netm': 0.8373432155074116, 'train_divq_netm': 0.9620506923947427, 'train_divr_netm': 0.7134569275988931}
printres:  {'acc': 0.5711340206185567, 'acc_ens': 0.5731958762886598, 'acc_netm': 0.5242153493699886, 'divq_netm': 0.9451865527466072, 'divr_netm': 0.33639323820517775, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8724921979491752, 'train_acc_ens': 0.8778421756576015, 'train_acc_netm': 0.8481052162282658, 'train_divq_netm': 0.9529472074430742, 'train_divr_netm': 0.8117487711556772}
printres:  {'acc': 0.7952241495832395, 'acc_ens': 0.7940977697679658, 'acc_netm': 0.7579747690921379, 'divq_netm': 0.9378548447208093, 'divr_netm': 0.6977020582430771, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8268281740690893, 'train_acc_ens': 0.8295199641094662, 'train_acc_netm': 0.7817406908927771, 'train_divq_netm': 0.9327631482708526, 'train_divr_netm': 0.7842005041286662}
printres:  {'acc': 0.8161579068166169, 'acc_ens': 0.8154693596511361, 'acc_netm': 0.7777714023410603, 'divq_netm': 0.9426410780460053, 'divr_netm': 0.7247442896500077, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.844543429844098, 'train_acc_ens': 0.845879732739421, 'train_acc_netm': 0.817728285077951, 'train_divq_netm': 0.9621358735820486, 'train_divr_netm': 0.6572470170158367}
printres:  {'acc': 0.6753193242686444, 'acc_ens': 0.6720230737536053, 'acc_netm': 0.665409971157808, 'divq_netm': 0.9864411173495113, 'divr_netm': 0.23953871471372185, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8639300646142152, 'train_acc_ens': 0.863169897377423, 'train_acc_netm': 0.8549410870391485, 'train_divq_netm': 0.993780072591911, 'train_divr_netm': 0.29073314874612166}
printres:  {'acc': 0.5702176403207331, 'acc_ens': 0.5731958762886598, 'acc_netm': 0.5400687285223367, 'divq_netm': 0.9703421376381792, 'divr_netm': 0.26154443459304505, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8702630405706643, 'train_acc_ens': 0.8765046812304949, 'train_acc_netm': 0.8560633080695496, 'train_divq_netm': 0.9746246765988791, 'train_divr_netm': 0.5979405819396264}
printres:  {'acc': 0.79477359765713, 'acc_ens': 0.7968010813246227, 'acc_netm': 0.7857400315386348, 'divq_netm': 0.9774440801632556, 'divr_netm': 0.3948154307710398, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8200986989681471, 'train_acc_ens': 0.8232391206819202, 'train_acc_netm': 0.8026693584567071, 'train_divq_netm': 0.9713360059386842, 'train_divr_netm': 0.48665135093657536}
printres:  {'acc': 0.8189120954785403, 'acc_ens': 0.8184530640348864, 'acc_netm': 0.813323387652054, 'divq_netm': 0.991743925371036, 'divr_netm': 0.2806367193323809, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8409799554565701, 'train_acc_ens': 0.8383073496659242, 'train_acc_netm': 0.8371714922048998, 'train_divq_netm': 0.9948316201689181, 'train_divr_netm': 0.243665498931646}

(pytorch) alexandrerame@devfair0751:~/slurmconfig/home0926/inf/runs$ cat enshome_twama_lpl8_0926.slurm_66271497.out | grep printres
printres:  {'acc': 0.695920889987639, 'acc_ens': 0.6868562010712814, 'acc_netm': 0.6329625051503914, 'divq_netm': 0.9256021572245169, 'divr_netm': 0.5584126528810195, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8753325731660966, 'train_acc_ens': 0.8764728240212847, 'train_acc_netm': 0.8424553401748385, 'train_divq_netm': 0.9587842416303395, 'train_divr_netm': 0.7702718775981804}
printres:  {'acc': 0.6286368843069874, 'acc_ens': 0.6213058419243986, 'acc_netm': 0.5737457044673538, 'divq_netm': 0.9348412816663338, 'divr_netm': 0.4447032330640212, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8845296477931341, 'train_acc_ens': 0.8849754792688364, 'train_acc_netm': 0.8532099866250558, 'train_divq_netm': 0.9506778211907138, 'train_divr_netm': 0.9023969717511308}
printres:  {'acc': 0.8143726064428926, 'acc_ens': 0.8114440189231809, 'acc_netm': 0.7758278891642261, 'divq_netm': 0.946332282636931, 'divr_netm': 0.6912855287270933, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8295199641094662, 'train_acc_ens': 0.8326603858232391, 'train_acc_netm': 0.7999327052489905, 'train_divq_netm': 0.9471590974169715, 'train_divr_netm': 0.7434915032874627}
printres:  {'acc': 0.8345191645627725, 'acc_ens': 0.8322240073445031, 'acc_netm': 0.7928276336929081, 'divq_netm': 0.9433760008405003, 'divr_netm': 0.7669653883485626, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8583518930957684, 'train_acc_ens': 0.8534521158129176, 'train_acc_netm': 0.8253674832962137, 'train_divq_netm': 0.9593847824687265, 'train_divr_netm': 0.7096986759450138}
printres:  {'acc': 0.696332921302019, 'acc_ens': 0.6971569839307787, 'acc_netm': 0.6870416151627524, 'divq_netm': 0.9832416110259206, 'divr_netm': 0.2816882016497023, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8665906499429875, 'train_acc_ens': 0.8681109844165716, 'train_acc_netm': 0.8599961991638162, 'train_divq_netm': 0.9916888775414225, 'train_divr_netm': 0.34456753265917217}
printres:  {'acc': 0.6247422680412371, 'acc_ens': 0.6261168384879725, 'acc_netm': 0.6088888888888888, 'divq_netm': 0.9822118990392055, 'divr_netm': 0.25405202921407194, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8782880071333036, 'train_acc_ens': 0.8831921533660276, 'train_acc_netm': 0.8733392777530092, 'train_divq_netm': 0.9876429239071804, 'train_divr_netm': 0.4392647499801222}
printres:  {'acc': 0.8107681910340166, 'acc_ens': 0.8107681910340166, 'acc_netm': 0.8034129308402795, 'divq_netm': 0.9884528409667248, 'divr_netm': 0.32548724361232817, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8236877523553163, 'train_acc_ens': 0.8272768057424854, 'train_acc_netm': 0.8194930462090623, 'train_divq_netm': 0.9869150664903966, 'train_divr_netm': 0.37124911768710295}
printres:  {'acc': 0.8372733532246959, 'acc_ens': 0.8391094789993114, 'acc_netm': 0.8280697727794353, 'divq_netm': 0.987586703426566, 'divr_netm': 0.368797216068149, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8534521158129176, 'train_acc_ens': 0.8530066815144766, 'train_acc_netm': 0.8462583518930957, 'train_divq_netm': 0.9893963528046805, 'train_divr_netm': 0.36647553216284723}

# twama

printres:  {'acc': 0.6955088586732592, 'acc_ens': 0.681087762669963, 'acc_netm': 0.6329419035846724, 'divq_netm': 0.9280968966787058, 'divr_netm': 0.5446404887788141, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8692512352717597, 'train_acc_ens': 0.8722919042189282, 'train_acc_netm': 0.8468833143291524, 'train_divq_netm': 0.9630041585349052, 'train_divr_netm': 0.738429940712075}


printres:  {'acc': 0.6996291718170581, 'acc_ens': 0.6868562010712814, 'acc_netm': 0.6339513803049031, 'divq_netm': 0.9262820360512728, 'divr_netm': 0.5541197133316563, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8719118206005321, 'train_acc_ens': 0.870771569745344, 'train_acc_netm': 0.842873432155074, 'train_divq_netm': 0.9614749469803978, 'train_divr_netm': 0.7422520884818263}
printres:  {'acc': 0.6254295532646048, 'acc_ens': 0.6245131729667812, 'acc_netm': 0.573906071019473, 'divq_netm': 0.9341620946097133, 'divr_netm': 0.44532450292403286, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8836379848417298, 'train_acc_ens': 0.8867588051716451, 'train_acc_netm': 0.8547481052162282, 'train_divq_netm': 0.9522449017770094, 'train_divr_netm': 0.8885581436706125}
printres:  {'acc': 0.813922054516783, 'acc_ens': 0.8130209506645641, 'acc_netm': 0.7769317413831944, 'divq_netm': 0.9465740835269839, 'divr_netm': 0.6939018413012883, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8308658591296546, 'train_acc_ens': 0.8340062808434275, 'train_acc_netm': 0.8001794526693583, 'train_divq_netm': 0.95086800036287, 'train_divr_netm': 0.7178319935791736}
printres:  {'acc': 0.8377323846683498, 'acc_ens': 0.832683038788157, 'acc_netm': 0.7945834289648841, 'divq_netm': 0.9427963463751535, 'divr_netm': 0.7687023267827089, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8579064587973274, 'train_acc_ens': 0.8556792873051225, 'train_acc_netm': 0.8261469933184855, 'train_divq_netm': 0.9572927804973251, 'train_divr_netm': 0.7326366718068336}

printres:  {'acc': 0.7012772970745776, 'acc_ens': 0.7012772970745776, 'acc_netm': 0.6890399670374949, 'divq_netm': 0.9841627718295249, 'divr_netm': 0.2732652013963452, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8673508171797796, 'train_acc_ens': 0.8684910680349677, 'train_acc_netm': 0.8610984416571645, 'train_divq_netm': 0.9919704194303134, 'train_divr_netm': 0.3391905714741064}
printres:  {'acc': 0.6270332187857961, 'acc_ens': 0.6286368843069874, 'acc_netm': 0.6155211912943872, 'divq_netm': 0.987309008805861, 'divr_netm': 0.20880396990460634, 'length': 16, 'testenv': 1, 'topk': 0, 'train_acc': 0.8805171645118145, 'train_acc_ens': 0.8818546589389211, 'train_acc_netm': 0.8753901025412394, 'train_divq_netm': 0.9910281807820598, 'train_divr_netm': 0.38304759962565277}
printres:  {'acc': 0.8098670871817977, 'acc_ens': 0.8107681910340166, 'acc_netm': 0.8047702185176842, 'divq_netm': 0.9890771641931003, 'divr_netm': 0.31728358353123204, 'length': 16, 'testenv': 2, 'topk': 0, 'train_acc': 0.8263795423956931, 'train_acc_ens': 0.8295199641094662, 'train_acc_netm': 0.8222016599371915, 'train_divq_netm': 0.9895650705037653, 'train_divr_netm': 0.3314253745178289}
printres:  {'acc': 0.8361257746155611, 'acc_ens': 0.8381914161120037, 'acc_netm': 0.8289419325223779, 'divq_netm': 0.9891362352726192, 'divr_netm': 0.3445411357935966, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8543429844097995, 'train_acc_ens': 0.8525612472160357, 'train_acc_netm': 0.8461692650334076, 'train_divq_netm': 0.9914171256447533, 'train_divr_netm': 0.32943567093989634}

python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_twama_lpl4_0926/


python3 -m domainbed.scripts.list_top_hparams --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl8_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_twama_lpl8_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_twama_lpl8_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_twama_lpl8_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl4w0a_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_twama_lpl4w0a_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_twama_lpl4w0a_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_twama_lpl4w0a_0926/ --dataset OfficeHome --test_env 0 --algorithm TWAMA

python3 -m domainbed.scripts.list_top_hparams --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_erm_lp_0926/ --dataset OfficeHome --test_env 0 --algorithm ERM >> ../lthp_home0.md

python3 -m domainbed.scripts.list_top_hparams --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl4_0926/ --dataset OfficeHome --test_env 0 --algorithm TWAMA

python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/home/home0_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home1_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home2_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/home/home3_twama_lpl4w0_0926/
printres:  {'acc': 0.6913885455294603, 'acc_ens': 0.6761433868974042, 'acc_netm': 0.6248042851256697, 'divq_netm': 0.9192561377705455, 'divr_netm': 0.5675171467038815, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8688711516533637, 'train_acc_ens': 0.8669707335613835, 'train_acc_netm': 0.8372291904218928, 'train_divq_netm': 0.9591669857511775, 'train_divr_netm': 0.7499084634712726}
printres:  {'acc': 0.6146620847651776, 'acc_ens': 0.6126002290950745, 'acc_netm': 0.5538258877434135, 'divq_netm': 0.926012680363372, 'divr_netm': 0.4672059074714768, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8787338386090058, 'train_acc_ens': 0.8845296477931341, 'train_acc_netm': 0.850445831475702, 'train_divq_netm': 0.9497531631735335, 'train_divr_netm': 0.8992279050365951}
printres:  {'acc': 0.8024329804009912, 'acc_ens': 0.803559360216265, 'acc_netm': 0.7681797702185177, 'divq_netm': 0.9437887346450323, 'divr_netm': 0.6923416863280777, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8250336473755047, 'train_acc_ens': 0.8268281740690893, 'train_acc_netm': 0.7922835352175863, 'train_divq_netm': 0.9499931980430076, 'train_divr_netm': 0.7028190884105788}
printres:  {'acc': 0.828322240073445, 'acc_ens': 0.8296993344044067, 'acc_netm': 0.7864011934817534, 'divq_netm': 0.9375059091266079, 'divr_netm': 0.7889307246350554, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8534521158129176, 'train_acc_ens': 0.8543429844097995, 'train_acc_netm': 0.8225835189309578, 'train_divq_netm': 0.9579035411063743, 'train_divr_netm': 0.719749283639218}




printres:  {'acc': 0.6971569839307787, 'acc_ens': 0.6856201071281417, 'acc_netm': 0.6375154511742893, 'divq_netm': 0.9284301759924425, 'divr_netm': 0.5488044668729211, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8760927404028886, 'train_acc_ens': 0.8722919042189282, 'train_acc_netm': 0.8455340174838464, 'train_divq_netm': 0.9612992138573193, 'train_divr_netm': 0.7480175950017525}
printres:  {'acc': 0.6252004581901489, 'acc_ens': 0.6158075601374571, 'acc_netm': 0.5717067583046964, 'divq_netm': 0.9396321205233622, 'divr_netm': 0.42363223844665715, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8849754792688364, 'train_acc_ens': 0.886312973695943, 'train_acc_netm': 0.8531654034774855, 'train_divq_netm': 0.9533369738040536, 'train_divr_netm': 0.8705173055675223}
printres:  {'acc': 0.8127956747015094, 'acc_ens': 0.8132462266276188, 'acc_netm': 0.7798040099121424, 'divq_netm': 0.9472791636175235, 'divr_netm': 0.6929250416383934, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8317631224764468, 'train_acc_ens': 0.8322117541498429, 'train_acc_netm': 0.8021085688649621, 'train_divq_netm': 0.9535812604503421, 'train_divr_netm': 0.6985563108383451}
printres:  {'acc': 0.8370438375028689, 'acc_ens': 0.8338306173972917, 'acc_netm': 0.7935735597888455, 'divq_netm': 0.9384683301163226, 'divr_netm': 0.7990238000910906, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8614699331848552, 'train_acc_ens': 0.8610244988864143, 'train_acc_netm': 0.825902004454343, 'train_divq_netm': 0.9582580235916309, 'train_divr_netm': 0.7220488754166656}


printres:  {'acc': 0.6967449526163988, 'acc_ens': 0.6946847960444994, 'acc_netm': 0.6795014421096004, 'divq_netm': 0.982913979632009, 'divr_netm': 0.28354911527959203, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8597491448118586, 'train_acc_ens': 0.8654503990877993, 'train_acc_netm': 0.8562903838844548, 'train_divq_netm': 0.9901588570280985, 'train_divr_netm': 0.3745951339382301}
printres:  {'acc': 0.6139747995418099, 'acc_ens': 0.6190148911798397, 'acc_netm': 0.5953493699885453, 'divq_netm': 0.9785404363308546, 'divr_netm': 0.2723411836099511, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8778421756576015, 'train_acc_ens': 0.8823004904146232, 'train_acc_netm': 0.8715336602764154, 'train_divq_netm': 0.9858741139019205, 'train_divr_netm': 0.4672699417402884}
printres:  {'acc': 0.800856048659608, 'acc_ens': 0.8046857400315386, 'acc_netm': 0.7968010813246227, 'divq_netm': 0.9882743384641066, 'divr_netm': 0.3244340357031169, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8174069089277703, 'train_acc_ens': 0.8187528039479587, 'train_acc_netm': 0.8135486765365634, 'train_divq_netm': 0.9877082350521116, 'train_divr_netm': 0.35265974813736706}
printres:  {'acc': 0.8317649759008492, 'acc_ens': 0.8331420702318109, 'acc_netm': 0.8224122102364012, 'divq_netm': 0.9863866100710778, 'divr_netm': 0.3825450238308178, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8494432071269488, 'train_acc_ens': 0.8503340757238307, 'train_acc_netm': 0.842316258351893, 'train_divq_netm': 0.9896126599169939, 'train_divr_netm': 0.35926290377813136}

printres:  {'acc': 0.7049855789039967, 'acc_ens': 0.7012772970745776, 'acc_netm': 0.6894725999175938, 'divq_netm': 0.984567618230756, 'divr_netm': 0.269607679086298, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8681109844165716, 'train_acc_ens': 0.8684910680349677, 'train_acc_netm': 0.8612124667426834, 'train_divq_netm': 0.9925985601193714, 'train_divr_netm': 0.32771864611305884}
printres:  {'acc': 0.6176403207331043, 'acc_ens': 0.6229095074455899, 'acc_netm': 0.6023940435280641, 'divq_netm': 0.9815798221819274, 'divr_netm': 0.24541647744201833, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8778421756576015, 'train_acc_ens': 0.8814088274632189, 'train_acc_netm': 0.8709540793580027, 'train_divq_netm': 0.986257779416778, 'train_divr_netm': 0.4576009310376511}
printres:  {'acc': 0.8123451227753998, 'acc_ens': 0.8118945708492904, 'acc_netm': 0.8049222797927461, 'divq_netm': 0.9891470969131786, 'divr_netm': 0.3156555472192522, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8236877523553163, 'train_acc_ens': 0.8304172274562585, 'train_acc_netm': 0.8203230148048453, 'train_divq_netm': 0.989142957236058, 'train_divr_netm': 0.33463635817881865}

-------- Dataset: OfficeHome, model selection method: training-domain validation set
Algorithm             A                     C                     P                     R                     Avg
noft_LP               0.6477857878          0.5100229095          0.7711148649          0.8043602983
noft_LPLW             0.6771369722          0.6331615120          0.7972972973          0.8138267355
ERM                   64.5 +/- 0.0          55.3 +/- 0.0          78.2 +/- 0.0          79.7 +/- 0.0          69.4
LPLW                  67.2 +/- 0.0          62.6 +/- 0.0          80.5 +/- 0.0          81.3 +/- 0.0          72.9
LPWL                  67.5 +/- 0.0          62.0 +/- 0.0          80.2 +/- 0.0          81.3 +/- 0.0          72.7
LPWLMA                68.7 +/- 0.0          65.1 +/- 0.0          80.9 +/- 0.0          82.8 +/- 0.0          74.4

TWAW0                 67.4 +/- 0.0          55.6 +/- 0.0          79.1 +/- 0.0          81.9 +/- 0.0          71.0
TWAW0MA               69.1 +/- 0.0          62.5 +/- 0.0          81.5 +/- 0.0          83.3 +/- 0.0          74.1
TWA                   67.0 +/- 0.0          60.1 +/- 0.0          80.1 +/- 0.0          82.0 +/- 0.0          72.3
TWAMA                  67.8 +/- 0.0         63.0 +/- 0.0          81.4 +/- 0.0          83.4 +/- 0.0          73.9


D_LP                 & 68.1 & 58.8 & 80.0 & 82.1 & 72.3
D_LPLW               & 69.7 & 64.4 & 80.9 & 82.4 & 74.4
DMA_LPLW             & 69.6 & 64.4 & 80.9 & 82.8 & 74.4
D_LP LPLW 40         & 69.7 & 62.2 & 81.1 & 83.2 & 74.0
D_LP LPLW 2*10         & 70.1 & 61.8 & 80.8 & 83.0 & 73.9
D_LP LPLW LPWL 3*7     & 70.0 & 63.0 & 81.2 & 82.9 & 74.2

D_TWA                & 70.0 & 62.5 & 81.4 & 83.8 & 74.4
DMA_TWA             &  70.1 & 62.7 & 81.0 & 83.6 & 74.4

M_TWAW0             & 0.6913885455294603 & 0.6146620847651776 & 0.8024329804009912 & 0.828322240073445
DMA_TWAW0           & 0.6967449526163988 & 0.6139747995418099 & 0.800856048659608  & 0.8317649759008492


# TERRA

grep 5000 terra0_lplw_0926.slurm_66141119.out terra1_lplw_0926.slurm_66141118.out terra2_lplw_0926.slurm_66141117.out terra3_lplw_0926.slurm_66141116.out

terra0_lplw_0926.slurm_66141119.out:    0.3820195096          0.3850210970          0.7941969444          0.7976373909          0.7267002519          0.7015113350          0.6566815381          0.6377551020          50.3778337531         0.2000000000          -4.1341271114         -0.1947910843         1.9819325376          11.2059655190         5000                  0.4883615589
terra1_lplw_0926.slurm_66141118.out:    0.8288953335          0.8227848101          0.3739889588          0.3908577298          0.7074937028          0.6788413098          0.6583811345          0.6556122449          50.3778337531         0.2000000000          -2.0863155007         -0.2325308729         1.7306046546          11.2912850380         5000                  0.4841864896
terra2_lplw_0926.slurm_66141117.out:    0.8325863433          0.8037974684          0.7855950700          0.8017462763          0.4445843829          0.4068010076          0.6607180795          0.6632653061          50.3778337531         0.2000000000          -1.8740607584         -0.5699511147         1.2497268999          11.2104210854         5000                  0.5039834762
terra3_lplw_0926.slurm_66141116.out:    0.8286316900          0.8154008439          0.7902169727          0.7960965588          0.7159949622          0.6826196474          0.2999787550          0.3214285714          50.3778337531         0.2000000000          -2.2484399295         -0.3808151864         1.5749517667          11.2957863808         5000                  0.4991643095


grep 5000 65077117.out 65077118.out 65077119.out 65077120.out
65077117.out:0.2973899288          0.3111814346          0.7045833868          0.7057010786          0.5806045340          0.5743073048          0.5510941151          0.5391156463          50.3778337531         1.0659562254          7.8486118317          5000                  0.3180155873
65077118.out:0.7735301872          0.7616033755          0.3182693542          0.3374422188          0.5739924433          0.5780856423          0.5423836839          0.5348639456          50.3778337531         1.0039555192          7.8486118317          5000                  0.3821983242
65077119.out:0.7661481677          0.7626582278          0.7063807934          0.7010785824          0.3639798489          0.3828715365          0.5498194179          0.5357142857          50.3778337531         0.9279738307          7.8486118317          5000                  0.3443316817
65077120.out:0.7669390983          0.7552742616          0.7072794967          0.7211093991          0.5802896725          0.5894206549          0.3074144891          0.3095238095          50.3778337531         0.9122077590          7.8486118317          5000                  0.3813099766

(pytorch) alexandrerame@devfair0751:~/slurmconfig/terra0926/inf/runs$ cat ensterra_erm_lplw_0926_top-10.slurm_66216723.out | grep -v printres | grep -A 1 length
acc                   env_0_in_acc          env_0_out_acc         env_1_in_acc          env_1_out_acc         env_2_in_acc          env_2_out_acc         env_3_in_acc          env_3_out_acc         length                testenv               topk
0.5758278844          0.6002638522          0.5791139241          0.9505459216          0.9368258860          0.9685039370          0.9143576826          0.9426142402          0.8869047619          20                    0                     -10
--
acc                   env_0_in_acc          env_0_out_acc         env_1_in_acc          env_1_out_acc         env_2_in_acc          env_2_out_acc         env_3_in_acc          env_3_out_acc         length                testenv               topk
0.4976376335          0.9841688654          0.9599156118          0.4855491329          0.5105290190          0.9669291339          0.9193954660          0.9351753454          0.8801020408          20                    1                     -10
--
acc                   env_0_in_acc          env_0_out_acc         env_1_in_acc          env_1_out_acc         env_2_in_acc          env_2_out_acc         env_3_in_acc          env_3_out_acc         length                testenv               topk
0.6012594458          0.9841688654          0.9535864979          0.9492614001          0.9363122753          0.5874015748          0.5969773300          0.9277364506          0.8715986395          20                    2                     -10
--
acc                   env_0_in_acc          env_0_out_acc         env_1_in_acc          env_1_out_acc         env_2_in_acc          env_2_out_acc         env_3_in_acc          env_3_out_acc         length                testenv               topk
0.4190039096          0.9881266491          0.9556962025          0.9499036609          0.9306625578          0.9543307087          0.9042821159          0.4197662062          0.4098639456          20                    3                     -10

(pytorch) alexandrerame@devfair0751:~/slurmconfig/terra0926/inf/runs$ cat ensterra_erm_lplw_0926.slurm_66180839.out | grep printres
printres:  {'acc': 0.582999367222105, 'env_0_in_acc': 0.604221635883905, 'env_0_out_acc': 0.5854430379746836, 'env_1_in_acc': 0.9543994861913937, 'env_1_out_acc': 0.9373394966615306, 'env_2_in_acc': 0.9669291338582677, 'env_2_out_acc': 0.9206549118387909, 'env_3_in_acc': 0.9415515409139213, 'env_3_out_acc': 0.8852040816326531, 'length': 40, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.4927074774034511, 'env_0_in_acc': 0.9841688654353562, 'env_0_out_acc': 0.959915611814346, 'env_1_in_acc': 0.47912652536929995, 'env_1_out_acc': 0.5069337442218799, 'env_2_in_acc': 0.9669291338582677, 'env_2_out_acc': 0.9168765743073047, 'env_3_in_acc': 0.9330499468650372, 'env_3_out_acc': 0.8801020408163265, 'length': 40, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.6022670025188916, 'env_0_in_acc': 0.9854881266490765, 'env_0_out_acc': 0.9556962025316456, 'env_1_in_acc': 0.9499036608863198, 'env_1_out_acc': 0.9388803287108372, 'env_2_in_acc': 0.5889763779527559, 'env_2_out_acc': 0.5994962216624685, 'env_3_in_acc': 0.9351753453772582, 'env_3_out_acc': 0.8758503401360545, 'length': 40, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.40013598504164544, 'env_0_in_acc': 0.9894459102902374, 'env_0_out_acc': 0.9546413502109705, 'env_1_in_acc': 0.9531149646756584, 'env_1_out_acc': 0.9322033898305084, 'env_2_in_acc': 0.9590551181102362, 'env_2_out_acc': 0.9143576826196473, 'env_3_in_acc': 0.40488841657810837, 'env_3_out_acc': 0.3937074829931973, 'length': 40, 'testenv': 3, 'topk': 0}



printres:  {'acc': 0.5770934402024889, 'env_0_in_acc': 0.5870712401055409, 'env_0_out_acc': 0.5864978902953587, 'env_1_in_acc': 0.9543994861913937, 'env_1_out_acc': 0.9347714432460195, 'env_2_in_acc': 0.9748031496062992, 'env_2_out_acc': 0.9231738035264484, 'env_3_in_acc': 0.9426142401700319, 'env_3_out_acc': 0.8894557823129252, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.49373459326212, 'env_0_in_acc': 0.9841688654353562, 'env_0_out_acc': 0.9556962025316456, 'env_1_in_acc': 0.47719974309569685, 'env_1_out_acc': 0.5166923472008218, 'env_2_in_acc': 0.9669291338582677, 'env_2_out_acc': 0.9231738035264484, 'env_3_in_acc': 0.9426142401700319, 'env_3_out_acc': 0.8852040816326531, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.6045340050377834, 'env_0_in_acc': 0.9894459102902374, 'env_0_out_acc': 0.9641350210970464, 'env_1_in_acc': 0.9511881824020553, 'env_1_out_acc': 0.9363122752953261, 'env_2_in_acc': 0.5937007874015748, 'env_2_out_acc': 0.610831234256927, 'env_3_in_acc': 0.9426142401700319, 'env_3_out_acc': 0.8818027210884354, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.3950365459799422, 'env_0_in_acc': 0.9907651715039578, 'env_0_out_acc': 0.959915611814346, 'env_1_in_acc': 0.9518304431599229, 'env_1_out_acc': 0.9327170005136107, 'env_2_in_acc': 0.968503937007874, 'env_2_out_acc': 0.9181360201511335, 'env_3_in_acc': 0.4038257173219979, 'env_3_out_acc': 0.39200680272108845, 'length': 20, 'testenv': 3, 'topk': 0}


printres:  {'acc': 0.5751951065176123, 'env_0_in_acc': 0.5936675461741425, 'env_0_out_acc': 0.570675105485232, 'env_1_in_acc': 0.9659601798330122, 'env_1_out_acc': 0.9455572675911659, 'env_2_in_acc': 0.9811023622047244, 'env_2_out_acc': 0.9231738035264484, 'env_3_in_acc': 0.9628055260361318, 'env_3_out_acc': 0.9056122448979592, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.4760682004930156, 'env_0_in_acc': 0.9934036939313984, 'env_0_out_acc': 0.9651898734177216, 'env_1_in_acc': 0.4617854849068722, 'env_1_out_acc': 0.48382126348228044, 'env_2_in_acc': 0.9795275590551181, 'env_2_out_acc': 0.9357682619647355, 'env_3_in_acc': 0.9585547290116897, 'env_3_out_acc': 0.9022108843537415, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.5994962216624685, 'env_0_in_acc': 0.9920844327176781, 'env_0_out_acc': 0.9651898734177216, 'env_1_in_acc': 0.970456005138086, 'env_1_out_acc': 0.9491525423728814, 'env_2_in_acc': 0.5937007874015748, 'env_2_out_acc': 0.6057934508816121, 'env_3_in_acc': 0.9617428267800212, 'env_3_out_acc': 0.8996598639455783, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.4263131055583886, 'env_0_in_acc': 0.9947229551451188, 'env_0_out_acc': 0.9651898734177216, 'env_1_in_acc': 0.9691714836223507, 'env_1_out_acc': 0.9512069851052902, 'env_2_in_acc': 0.9748031496062992, 'env_2_out_acc': 0.929471032745592, 'env_3_in_acc': 0.434643995749203, 'env_3_out_acc': 0.42346938775510207, 'length': 20, 'testenv': 3, 'topk': 0}


(pytorch) alexandrerame@devfair0751:~/domainbedv2$ python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra0_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra1_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra2_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra3_erm_lplw_0926/
Total records: 8160

printres:  {'acc': 0.5770934402024889, 'acc_ens': 0.5716093651128454, 'acc_netm': 0.5303522463615271, 'divq_netm': 0.8684135328260874, 'divr_netm': 0.6018037452237893, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.9188154199642583, 'train_acc_ens': 0.9369415368904774, 'train_acc_netm': 0.9112075568036764, 'train_divq_netm': 0.9417984651252153, 'train_divr_netm': 1.4235051535310677}
printres:  {'acc': 0.49373459326212, 'acc_ens': 0.44391947411668037, 'acc_netm': 0.4324568611339359, 'divq_netm': 0.9668618195928785, 'divr_netm': 0.23784859642182551, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.9184372858122002, 'train_acc_ens': 0.9359150102810144, 'train_acc_netm': 0.9134681288553803, 'train_divq_netm': 0.9483847601784865, 'train_divr_netm': 1.3503816890053097}
printres:  {'acc': 0.6045340050377834, 'acc_ens': 0.6062972292191435, 'acc_netm': 0.5622795969773299, 'divq_netm': 0.8731807469493129, 'divr_netm': 0.6084504530454811, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9270449521002211, 'train_acc_ens': 0.9466961434536969, 'train_acc_netm': 0.9206460329157455, 'train_divq_netm': 0.9481022405549091, 'train_divr_netm': 1.4387263103444388}
printres:  {'acc': 0.3950365459799422, 'acc_ens': 0.4011558728539861, 'acc_netm': 0.37123916369199383, 'divq_netm': 0.9178698490056225, 'divr_netm': 0.2998762642070678, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9365681756573597, 'train_acc_ens': 0.9552724315532665, 'train_acc_netm': 0.9325020330712931, 'train_divq_netm': 0.9535182436437893, 'train_divr_netm': 1.5114551558222442}

KEYACC=ma python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra0_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra1_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra2_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra3_twama_lpl4_0926/

KEYACC=ma python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra0_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra1_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra2_twama_lpl4w0_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/terra/terra3_twama_lpl4w0_0926/


printres:  {'acc': 0.5969204809112002, 'acc_ens': 0.6019827040708712, 'acc_netm': 0.5506222315967095, 'divq_netm': 0.8881180463077308, 'divr_netm': 0.5917249430938146, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.9229001787081951, 'train_acc_ens': 0.9443451621138627, 'train_acc_netm': 0.9174495787592546, 'train_divq_netm': 0.9503579516648487, 'train_divr_netm': 1.3590341812843265}
printres:  {'acc': 0.49548069022185703, 'acc_ens': 0.4518282662284306, 'acc_netm': 0.44458709942481517, 'divq_netm': 0.9646892787409612, 'divr_netm': 0.24576592227647767, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.927004797806717, 'train_acc_ens': 0.9396847155586018, 'train_acc_netm': 0.9166552433173406, 'train_divq_netm': 0.9532578450881047, 'train_divr_netm': 1.2907029605573557}
printres:  {'acc': 0.6181360201511334, 'acc_ens': 0.6110831234256927, 'acc_netm': 0.564130982367758, 'divq_netm': 0.8964117236008504, 'divr_netm': 0.5491384403741179, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9339228690739376, 'train_acc_ens': 0.9506263817243921, 'train_acc_netm': 0.9251658069270452, 'train_divq_netm': 0.9543836523035678, 'train_divr_netm': 1.3799903746363322}
printres:  {'acc': 0.4106748257691654, 'acc_ens': 0.4210436851946286, 'acc_netm': 0.39535951045385, 'divq_netm': 0.8983327257830185, 'divr_netm': 0.3566749682635949, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9422607752778531, 'train_acc_ens': 0.9577121171049064, 'train_acc_netm': 0.9359311466522092, 'train_divq_netm': 0.9550909499174832, 'train_divr_netm': 1.522451069303818}

printres:  {'acc': 0.5762497363425437, 'acc_ens': 0.5766715882725163, 'acc_netm': 0.5658405399704705, 'divq_netm': 0.9610676324234227, 'divr_netm': 0.33968300047428474, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8922644881286699, 'train_acc_ens': 0.9137094715343375, 'train_acc_netm': 0.9071866224151137, 'train_divq_netm': 0.9892565218325742, 'train_divr_netm': 0.5399282044893289}
printres:  {'acc': 0.49126951520131473, 'acc_ens': 0.4725760065735415, 'acc_netm': 0.4699465899753493, 'divq_netm': 0.9873345451231031, 'divr_netm': 0.1545274641647846, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8927347498286498, 'train_acc_ens': 0.9174091843728581, 'train_acc_netm': 0.9102467443454418, 'train_divq_netm': 0.9879832502128304, 'train_divr_netm': 0.570051557061619}
printres:  {'acc': 0.6198992443324937, 'acc_ens': 0.6244332493702771, 'acc_netm': 0.6109319899244333, 'divq_netm': 0.9712528857749095, 'divr_netm': 0.30905339104314594, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9078850405305822, 'train_acc_ens': 0.9231147138295259, 'train_acc_netm': 0.9174527143208058, 'train_divq_netm': 0.9907199313685138, 'train_divr_netm': 0.5360875558083819}
printres:  {'acc': 0.43243243243243246, 'acc_ens': 0.4293727689954105, 'acc_netm': 0.4223440421553629, 'divq_netm': 0.963136649406587, 'divr_netm': 0.22831285113245783, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9194903767958796, 'train_acc_ens': 0.9349417186229331, 'train_acc_netm': 0.9300352399024125, 'train_divq_netm': 0.9908921199418076, 'train_divr_netm': 0.5794276025063184}


printres:  {'acc': 0.6021936300358575, 'acc_ens': 0.6015608521408985, 'acc_netm': 0.5536068340012655, 'divq_netm': 0.8698689999176168, 'divr_netm': 0.6587313796834693, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.9259637477661475, 'train_acc_ens': 0.9446004595353586, 'train_acc_netm': 0.9185856522849118, 'train_divq_netm': 0.9495551996895978, 'train_divr_netm': 1.3834894951073136}
printres:  {'acc': 0.47997124075595726, 'acc_ens': 0.44186524239934266, 'acc_netm': 0.43250821692686936, 'divq_netm': 0.969601005898277, 'divr_netm': 0.22246640699752587, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.9232350925291295, 'train_acc_ens': 0.9407128169979438, 'train_acc_netm': 0.9168608636052088, 'train_divq_netm': 0.9487399234511654, 'train_divr_netm': 1.3809069174631636}
printres:  {'acc': 0.6047858942065492, 'acc_ens': 0.6057934508816121, 'acc_netm': 0.5580478589420654, 'divq_netm': 0.8813802140119346, 'divr_netm': 0.5859661451273094, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9317121100466715, 'train_acc_ens': 0.9521002210759028, 'train_acc_netm': 0.924981577008106, 'train_divq_netm': 0.9517850632254639, 'train_divr_netm': 1.4228893624977559}
printres:  {'acc': 0.39928607853136155, 'acc_ens': 0.41373448920618733, 'acc_netm': 0.3773414924358321, 'divq_netm': 0.8921755465879052, 'divr_netm': 0.3593010792210853, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9414475467606397, 'train_acc_ens': 0.9571699647600976, 'train_acc_netm': 0.9375440498780158, 'train_divq_netm': 0.957549144225093, 'train_divr_netm': 1.4889527342840587}
printres:  {'acc': 0.5741404766926809, 'acc_ens': 0.5817338114321873, 'acc_netm': 0.5672748365323772, 'divq_netm': 0.9625872849229278, 'divr_netm': 0.34508365597371987, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8932856778146541, 'train_acc_ens': 0.9152412560633137, 'train_acc_netm': 0.9090375287209598, 'train_divq_netm': 0.989034023494905, 'train_divr_netm': 0.5403321397617572}
printres:  {'acc': 0.4867502054231717, 'acc_ens': 0.4691865242399343, 'acc_netm': 0.4669730895645028, 'divq_netm': 0.9845767349205238, 'divr_netm': 0.1688452533210316, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8893077450308431, 'train_acc_ens': 0.9177518848526388, 'train_acc_netm': 0.9120459218642909, 'train_divq_netm': 0.9878436280689704, 'train_divr_netm': 0.5868937268879515}
printres:  {'acc': 0.6183879093198993, 'acc_ens': 0.6246851385390428, 'acc_netm': 0.6079974811083123, 'divq_netm': 0.9634627416613327, 'divr_netm': 0.34764167869196627, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9022353230164579, 'train_acc_ens': 0.9260623925325473, 'train_acc_netm': 0.9182633259641367, 'train_divq_netm': 0.9896307664430998, 'train_divr_netm': 0.5783570195713463}
printres:  {'acc': 0.4326024137344892, 'acc_ens': 0.4320924698283189, 'acc_netm': 0.42246302906680266, 'divq_netm': 0.9604529170979738, 'divr_netm': 0.23649498887833476, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9159663865546218, 'train_acc_ens': 0.9346706424505286, 'train_acc_netm': 0.9298997018162103, 'train_divq_netm': 0.9907623442019766, 'train_divr_netm': 0.6070107130886712}


-------- Dataset: TerraIncognita, model selection method: training-domain validation set
Algorithm             L100                  L38                   L43                   L46                   Avg
noft_LP               0.2973899288          0.3182693542          0.3639798489          0.3074144891
noft_LPLW             0.3820195096          0.3739889588          0.4445843829          0.2999787550
ERM                   58.8 +/- 0.0          42.1 +/- 0.0          55.6 +/- 0.0          42.2 +/- 0.0          49.7
LPLW                  48.5 +/- 0.0          40.9 +/- 0.0          55.9 +/- 0.0          38.4 +/- 0.0          45.9
MA_LPLW               55.2 +/- 0.0          48.3 +/- 0.0          60.3 +/- 0.0          43.5 +/- 0.0          51.8
ERM                   58.8 +/- 0.0          42.1 +/- 0.0          55.6 +/- 0.0          42.2 +/- 0.0          49.7
TWA                   50.5 +/- 0.0          44.6 +/- 0.0          51.6 +/- 0.0          41.9 +/- 0.0          47.2
TWAMA                 54.9 +/- 0.0          49.1 +/- 0.0          60.3 +/- 0.0          43.4 +/- 0.0          51.9
TWAW0                 58.6 +/- 0.0          47.6 +/- 0.0          51.0 +/- 0.0          37.9 +/- 0.0          48.8
TWAW0MA               57.5 +/- 0.0          47.2 +/- 0.0          61.5 +/- 0.0          42.6 +/- 0.0          52.2

D_ERMLP               & 57.7 & 49.4 & 60.5 & 39.5 & 51.8
D_LPLW                & 57.5 & 47.6 & 59.9 & 42.6 & 51.9
DMA_LPLW              & 58.2 & 48.7 & 62.1 & 44.8 & 53.4
D_LP LPLW 40          & 58.3 & 49.3 & 60.2 & 40.0 & 52.0
D_LP LPLW top10       & 57.6 & 49.8 & 60.1 & 41.9 & 52.3
D_TWA                 & 59.7 & 49.5 & 61.8 & 41.1 & 53.0
DMA_TWAMA             & 57.6 & 49.1 & 62.0 & 43.2 & 53.0

D_TWAW0 &   60.2 & 48.0 & 60.5 & 39.9 & 52.2
DMA_TWAW0 & 57.4 & 48.7 & 61.8 & 43.3 & 52.8


-------- Dataset: TerraIncognita, model selection method: test-domain validation set (oracle)
Algorithm             L100                  L38                   L43                   L46                   Avg
ERM                   58.8 +/- 0.0          43.2 +/- 0.0          55.2 +/- 0.0          42.1 +/- 0.0          49.8
LPLW                    52.5 +/- 0.0          40.9 +/- 0.0          47.8 +/- 0.0          40.7 +/- 0.0          45.5


# VLCS

grep 5000 vlcs0_lplw_0926.slurm_66141070.out vlcs1_lplw_0926.slurm_66141066.out vlcs2_lplw_0926.slurm_66141065.out vlcs3_lplw_0926.slurm_66141064.out

vlcs0_lplw_0926.slurm_66141070.out:
0.9911660777          0.9893992933          0.7562352941          0.7589453861          0.8320639756          0.7728658537          0.8867086264          0.8577777778          141.3427561837        0.2000000000          0.4862403893          .8780942774
vlcs1_lplw_0926.slurm_66141066.out:
0.9991166078          1.0000000000          0.6070588235          0.5988700565          0.8461538462          0.7987804878          0.8970751573          0.8696296296          141.3427561837        0.2000000000          0.5054272214          .5247532320
vlcs2_lplw_0926.slurm_66141065.out:
1.0000000000          1.0000000000          0.7774117647          0.7476459510          0.7109672506          0.6875000000          0.8952239911          0.8592592593          141.3427561837        0.2000000000          0.2982124126          .7369967842
vlcs3_lplw_0926.slurm_66141064.out:
1.0000000000          1.0000000000          0.7576470588          0.7325800377          0.8339680122          0.7911585366          0.8059977786          0.8251851852          141.3427561837        0.2000000000          0.5735741037          .8139170837

(pytorch) alexandrerame@devfair0751:~/slurmconfig/vlcs0926/trainlp/runs$ grep 5000 65235660.out 65235661.out 65235662.out 65235663.out
65235660.out:
0.9761484099          0.9858657244          0.7411764706          0.7344632768          0.8035034273          0.7682926829          0.8641243984          0.8429629630          141.3427561837        0.5273992920          7.8484592438          5000                  0.7076792669
65235661.out:
0.9991166078          0.9929328622          0.5948235294          0.5856873823          0.8194973343          0.7804878049          0.8744909293          0.8518518519          141.3427561837        0.2742830187          7.8484592438          5000                  0.4149869156
65235662.out:
1.0000000000          1.0000000000          0.7534117647          0.7419962335          0.7361005331          0.7027439024          0.8678267308          0.8474074074          141.3427561837        0.3274249086          7.8484592438          5000                  0.8338213205
65235663.out:
1.0000000000          1.0000000000          0.7440000000          0.7476459510          0.8038842346          0.7835365854          0.7926693817          0.8103703704          141.3427561837        0.4049773967          7.8484592438          5000                  0.7333633757


printres:  {'acc': 0.9901060070671378, 'env_0_in_acc': 0.9911504424778761, 'env_0_out_acc': 0.9858657243816255, 'env_1_in_acc': 0.8870588235294118, 'env_1_out_acc': 0.7853107344632768, 'env_2_in_acc': 0.9257142857142857, 'env_2_out_acc': 0.8125, 'env_3_in_acc': 0.9666666666666667, 'env_3_out_acc': 0.8814814814814815, 'length': 40, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6174698795180723, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.6282352941176471, 'env_1_out_acc': 0.6064030131826742, 'env_2_in_acc': 0.9619047619047619, 'env_2_out_acc': 0.8307926829268293, 'env_3_in_acc': 0.9851851851851852, 'env_3_out_acc': 0.8888888888888888, 'length': 40, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.7309567336989641, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9035294117647059, 'env_1_out_acc': 0.7853107344632768, 'env_2_in_acc': 0.6895238095238095, 'env_2_out_acc': 0.7179878048780488, 'env_3_in_acc': 0.975925925925926, 'env_3_out_acc': 0.8844444444444445, 'length': 40, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.7899881516587678, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9576470588235294, 'env_1_out_acc': 0.7853107344632768, 'env_2_in_acc': 0.9695238095238096, 'env_2_out_acc': 0.8201219512195121, 'env_3_in_acc': 0.774074074074074, 'env_3_out_acc': 0.794074074074074, 'length': 40, 'testenv': 3, 'topk': 0}



printres:  {'acc': 0.9908127208480565, 'env_0_in_acc': 0.995575221238938, 'env_0_out_acc': 0.9858657243816255, 'env_1_in_acc': 0.9058823529411765, 'env_1_out_acc': 0.7890772128060264, 'env_2_in_acc': 0.939047619047619, 'env_2_out_acc': 0.8094512195121951, 'env_3_in_acc': 0.9722222222222222, 'env_3_out_acc': 0.8770370370370371, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.620105421686747, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.6329411764705882, 'env_1_out_acc': 0.6195856873822976, 'env_2_in_acc': 0.9809523809523809, 'env_2_out_acc': 0.8262195121951219, 'env_3_in_acc': 0.9925925925925926, 'env_3_out_acc': 0.8859259259259259, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.7282145033516149, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9058823529411765, 'env_1_out_acc': 0.7984934086629002, 'env_2_in_acc': 0.7028571428571428, 'env_2_out_acc': 0.7134146341463414, 'env_3_in_acc': 0.975925925925926, 'env_3_out_acc': 0.88, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.7923578199052133, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9576470588235294, 'env_1_out_acc': 0.7871939736346516, 'env_2_in_acc': 0.9676190476190476, 'env_2_out_acc': 0.8125, 'env_3_in_acc': 0.7833333333333333, 'env_3_out_acc': 0.7925925925925926, 'length': 20, 'testenv': 3, 'topk': 0}

printres:  {'acc': 0.9886925795053003, 'env_0_in_acc': 0.9867256637168141, 'env_0_out_acc': 0.9858657243816255, 'env_1_in_acc': 0.8870588235294118, 'env_1_out_acc': 0.783427495291902, 'env_2_in_acc': 0.9352380952380952, 'env_2_out_acc': 0.8033536585365854, 'env_3_in_acc': 0.9648148148148148, 'env_3_out_acc': 0.8725925925925926, 'length': 20, 'testenv': 0, 'topk': 0}
printres:  {'acc': 0.6223644578313253, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.6235294117647059, 'env_1_out_acc': 0.6120527306967984, 'env_2_in_acc': 0.9676190476190476, 'env_2_out_acc': 0.8262195121951219, 'env_3_in_acc': 0.9814814814814815, 'env_3_out_acc': 0.8859259259259259, 'length': 20, 'testenv': 1, 'topk': 0}
printres:  {'acc': 0.7230347349177331, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9364705882352942, 'env_1_out_acc': 0.7928436911487758, 'env_2_in_acc': 0.6819047619047619, 'env_2_out_acc': 0.7042682926829268, 'env_3_in_acc': 0.9796296296296296, 'env_3_out_acc': 0.8785185185185185, 'length': 20, 'testenv': 2, 'topk': 0}
printres:  {'acc': 0.784952606635071, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9835294117647059, 'env_1_out_acc': 0.800376647834275, 'env_2_in_acc': 0.9904761904761905, 'env_2_out_acc': 0.823170731707317, 'env_3_in_acc': 0.7703703703703704, 'env_3_out_acc': 0.7837037037037037, 'length': 20, 'testenv': 3, 'topk': 0}


(pytorch) alexandrerame@devfair0751:~/slurmconfig/vlcs0926/inf/runs$ cat ensvlcs_erm_lplw_0926_top-10.slurm_66216722.out | grep printres
printres:  {'acc': 0.9893992932862191, 'env_0_in_acc': 0.9911504424778761, 'env_0_out_acc': 0.9858657243816255, 'env_1_in_acc': 0.9011764705882352, 'env_1_out_acc': 0.7890772128060264, 'env_2_in_acc': 0.9314285714285714, 'env_2_out_acc': 0.8140243902439024, 'env_3_in_acc': 0.9777777777777777, 'env_3_out_acc': 0.88, 'length': 20, 'testenv': 0, 'topk': -10}
printres:  {'acc': 0.6140813253012049, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.6235294117647059, 'env_1_out_acc': 0.6045197740112994, 'env_2_in_acc': 0.9542857142857143, 'env_2_out_acc': 0.8307926829268293, 'env_3_in_acc': 0.975925925925926, 'env_3_out_acc': 0.8918518518518519, 'length': 20, 'testenv': 1, 'topk': -10}
printres:  {'acc': 0.7263863497867155, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9247058823529412, 'env_1_out_acc': 0.7928436911487758, 'env_2_in_acc': 0.6876190476190476, 'env_2_out_acc': 0.7134146341463414, 'env_3_in_acc': 0.9703703703703703, 'env_3_out_acc': 0.8844444444444445, 'length': 20, 'testenv': 2, 'topk': -10}
printres:  {'acc': 0.7932464454976303, 'env_0_in_acc': 1.0, 'env_0_out_acc': 1.0, 'env_1_in_acc': 0.9576470588235294, 'env_1_out_acc': 0.7796610169491526, 'env_2_in_acc': 0.9695238095238096, 'env_2_out_acc': 0.823170731707317, 'env_3_in_acc': 0.7870370370370371, 'env_3_out_acc': 0.7955555555555556, 'length': 20, 'testenv': 3, 'topk': -10}

(pytorch) alexandrerame@devfair0751:~/domainbedv2$ python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_erm_lplw_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_erm_lplw_0926/
Total records: 16160

python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_twama_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_twama_lpl4_0926/


printres:  {'acc': 0.9908127208480565, 'acc_ens': 0.9816254416961131, 'acc_netm': 0.9749823321554769, 'divq_netm': 0.9786690394165644, 'divr_netm': 2.2925367802613414, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8281417830290011, 'train_acc_ens': 0.8308270676691729, 'train_acc_netm': 0.8103920515574652, 'train_divq_netm': 0.9514433257365551, 'train_divr_netm': 0.7359303636536862}
printres:  {'acc': 0.620105421686747, 'acc_ens': 0.6445783132530121, 'acc_netm': 0.6392884036144579, 'divq_netm': 0.9885437563635243, 'divr_netm': 0.2148644481182597, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8816604708798017, 'train_acc_ens': 0.8828996282527881, 'train_acc_netm': 0.8687112763320943, 'train_divq_netm': 0.9632906215431091, 'train_divr_netm': 0.8114063149327708}
printres:  {'acc': 0.7282145033516149, 'acc_ens': 0.7279098110907983, 'acc_netm': 0.7116087751371116, 'divq_netm': 0.9074209535442527, 'divr_netm': 0.7754891638304356, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8737407656145064, 'train_acc_ens': 0.8737407656145064, 'train_acc_netm': 0.8550369375419745, 'train_divq_netm': 0.957750013709034, 'train_divr_netm': 0.8237148789097469}
printres:  {'acc': 0.7923578199052133, 'acc_ens': 0.7858412322274881, 'acc_netm': 0.7582197867298578, 'divq_netm': 0.8903842447829233, 'divr_netm': 1.0277223316849562, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8394557823129252, 'train_acc_ens': 0.8564625850340136, 'train_acc_netm': 0.8287074829931973, 'train_divq_netm': 0.9434301448898219, 'train_divr_netm': 0.8685734902224833}

(pytorch) alexandrerame@devfair0751:~/slurmconfig/vlcs0926/inf/runs$ cat ensvlcs_twama_din_lp_0926.slurm_66271708.out | grep printres
printres:  {'acc': 0.9865724381625441, 'acc_ens': 0.9830388692579505, 'acc_netm': 0.9751236749116607, 'divq_netm': 0.9798520281692601, 'divr_netm': 2.1683568766660786, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8216970998925887, 'train_acc_ens': 0.8329752953813104, 'train_acc_netm': 0.8094790547798068, 'train_divq_netm': 0.9475527811594798, 'train_divr_netm': 0.7666198485804346}
printres:  {'acc': 0.6231174698795181, 'acc_ens': 0.6434487951807228, 'acc_netm': 0.6334713855421686, 'divq_netm': 0.9846841012536949, 'divr_netm': 0.2512687919087459, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8872366790582404, 'train_acc_ens': 0.8853779429987608, 'train_acc_netm': 0.8699814126394052, 'train_divq_netm': 0.961252493783636, 'train_divr_netm': 0.8492402285230377}
printres:  {'acc': 0.7205971968312005, 'acc_ens': 0.7245581962218159, 'acc_netm': 0.7015843997562462, 'divq_netm': 0.8958157536365512, 'divr_netm': 0.7992528683761733, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8723975822699799, 'train_acc_ens': 0.8730691739422431, 'train_acc_netm': 0.8560107454667563, 'train_divq_netm': 0.9592536099727813, 'train_divr_netm': 0.8105686063747858}
printres:  {'acc': 0.7956161137440758, 'acc_ens': 0.7923578199052133, 'acc_netm': 0.761196682464455, 'divq_netm': 0.873562218802181, 'divr_netm': 1.117279069944678, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8442176870748299, 'train_acc_ens': 0.8476190476190476, 'train_acc_netm': 0.8275850340136055, 'train_divq_netm': 0.9378069759371427, 'train_divr_netm': 0.9120053590821627}

printres:  {'acc': 0.9915194346289753, 'acc_ens': 0.9886925795053003, 'acc_netm': 0.9886219081272085, 'divq_netm': 0.9951795204027336, 'divr_netm': 1.2511519736713235, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8174006444683136, 'train_acc_ens': 0.8227712137486574, 'train_acc_netm': 0.8174274973147153, 'train_divq_netm': 0.9825642504739344, 'train_divr_netm': 0.41734494675004674}
printres:  {'acc': 0.6121987951807228, 'acc_ens': 0.6219879518072289, 'acc_netm': 0.6191829819277108, 'divq_netm': 0.9963922592849288, 'divr_netm': 0.112195859907322, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8804213135068154, 'train_acc_ens': 0.8822800495662949, 'train_acc_netm': 0.8765799256505575, 'train_divq_netm': 0.9917607530877561, 'train_divr_netm': 0.3626077044411105}
printres:  {'acc': 0.7361365021328459, 'acc_ens': 0.7422303473491774, 'acc_netm': 0.7302559414990858, 'divq_netm': 0.9680979144985098, 'divr_netm': 0.44509462926494686, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8703828072531901, 'train_acc_ens': 0.8683680322364002, 'train_acc_netm': 0.8641705842847548, 'train_divq_netm': 0.9867970882743592, 'train_divr_netm': 0.442767303591147}
printres:  {'acc': 0.8089454976303317, 'acc_ens': 0.8110189573459715, 'acc_netm': 0.7993335308056873, 'divq_netm': 0.9623957658911023, 'divr_netm': 0.625913343216179, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8319727891156462, 'train_acc_ens': 0.8462585034013606, 'train_acc_netm': 0.8361564625850342, 'train_divq_netm': 0.9752504121161053, 'train_divr_netm': 0.5472703268623961}

printres:  {'acc': 0.9865724381625441, 'acc_ens': 0.9823321554770318, 'acc_netm': 0.9759363957597171, 'divq_netm': 0.9798907321382246, 'divr_netm': 2.0515041484514946, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8329752953813104, 'train_acc_ens': 0.8372717508055854, 'train_acc_netm': 0.8095327604726104, 'train_divq_netm': 0.944679603857749, 'train_divr_netm': 0.7913832361452077}
printres:  {'acc': 0.6272590361445783, 'acc_ens': 0.6468373493975904, 'acc_netm': 0.6396272590361447, 'divq_netm': 0.9872035467605443, 'divr_netm': 0.2286060826216225, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.88909541511772, 'train_acc_ens': 0.8921933085501859, 'train_acc_netm': 0.870105328376704, 'train_divq_netm': 0.9633278483322042, 'train_divr_netm': 0.8197335832058849}
printres:  {'acc': 0.7318708104814138, 'acc_ens': 0.7254722730042656, 'acc_netm': 0.7080895795246801, 'divq_netm': 0.9025998790171544, 'divr_netm': 0.785230586483631, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8710543989254533, 'train_acc_ens': 0.8750839489590329, 'train_acc_netm': 0.8551712558764273, 'train_divq_netm': 0.9573335388732415, 'train_divr_netm': 0.8305310979676326}
printres:  {'acc': 0.8000592417061612, 'acc_ens': 0.8000592417061612, 'acc_netm': 0.7644549763033176, 'divq_netm': 0.8887170330187796, 'divr_netm': 1.0308292123283727, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8408163265306122, 'train_acc_ens': 0.8537414965986394, 'train_acc_netm': 0.8275850340136055, 'train_divq_netm': 0.9439568102470859, 'train_divr_netm': 0.8588718035983496}
printres:  {'acc': 0.9901060070671378, 'acc_ens': 0.9908127208480565, 'acc_netm': 0.9885865724381626, 'divq_netm': 0.9967086560073142, 'divr_netm': 0.9817981433770907, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8200859291084855, 'train_acc_ens': 0.8308270676691729, 'train_acc_netm': 0.817937701396348, 'train_divq_netm': 0.9787863423945662, 'train_divr_netm': 0.4665454231577682}
printres:  {'acc': 0.6121987951807228, 'acc_ens': 0.6265060240963856, 'acc_netm': 0.6230233433734939, 'divq_netm': 0.9965419023979194, 'divr_netm': 0.10933255901316066, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8816604708798017, 'train_acc_ens': 0.8835192069392813, 'train_acc_netm': 0.877540272614622, 'train_divq_netm': 0.991934683011656, 'train_divr_netm': 0.36226899201389395}
printres:  {'acc': 0.7358318098720292, 'acc_ens': 0.7404021937842779, 'acc_netm': 0.728031687995125, 'divq_netm': 0.9618433203388023, 'divr_netm': 0.4866616884123947, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8663532572196104, 'train_acc_ens': 0.8703828072531901, 'train_acc_netm': 0.8620550705171256, 'train_divq_netm': 0.9832881261561526, 'train_divr_netm': 0.49286777461680853}
printres:  {'acc': 0.8127962085308057, 'acc_ens': 0.8074644549763034, 'acc_netm': 0.7996889810426542, 'divq_netm': 0.9661411407039564, 'divr_netm': 0.5958674248492536, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.827891156462585, 'train_acc_ens': 0.8482993197278912, 'train_acc_netm': 0.8348979591836734, 'train_divq_netm': 0.9759692920932846, 'train_divr_netm': 0.5370356535443539}

-------- Dataset: VLCS, model selection method: training-domain validation set
Algorithm             C                     L                     S                     V                     Avg
noft_LP               0.9761484099          0.5948235294          0.7361005331          0.7926693817
noft_LPLW             0.9911660777          0.6070588235          0.7109672506          0.8059977786
ERM                   98.1 +/- 0.0          65.6 +/- 0.0          71.3 +/- 0.0          75.3 +/- 0.0          77.6
LPLW                  98.9 +/- 0.0          63.0 +/- 0.0          73.8 +/- 0.0          78.3 +/- 0.0          78.5
MA_LPLW               99.1 +/- 0.0          63.4 +/- 0.0          72.9 +/- 0.0          79.0 +/- 0.0          78.6

D_LP                  & 99.1 &              62.0 &                72.8 &                79.2 &                78.3
D_LPLW                & 98.9 &              62.2 &                72.3 &                78.5 &                78.0
DMA_LPLW              & 98.7 &              61.1 &                72.8 &                79.9 &                78.1
D_LP LPLW 40          & 99.0 &              61.7 &                73.1 &                79.0 &                78.2
D_LP LPLW top10       & 98.9 &              61.4 &                72.6 &                79.3 &                78.1

ERM                   98.1 +/- 0.0          65.6 +/- 0.0          71.3 +/- 0.0          75.3 +/- 0.0          77.6
TWA                   97.8 +/- 0.0          60.4 +/- 0.0          70.4 +/- 0.0          80.0 +/- 0.0          77.1
TWAMA                 98.9 +/- 0.0          62.7 +/- 0.0          73.1 +/- 0.0          79.5 +/- 0.0          78.5
TWA_din               98.1 +/- 0.0          64.6 +/- 0.0          72.1 +/- 0.0          78.6 +/- 0.0          78.4
TWAMA_din             99.2 +/- 0.0          63.2 +/- 0.0          74.0 +/- 0.0          79.6 +/- 0.0          79.0

D_TWA           & 98.7 & 62.7 & 73.2 & 80.0 & 78.6
D_TWAMA         & 99.0 & 61.2 & 73.6 & 81.3 & 78.8

D_TWA_din       & 98.7 & 62.3 & 72.1 & 79.6 & 78.1
D_TWAMA_din     & 99.2 & 61.2 & 73.6 & 80.9 & 78.7

# PACS

KEYTEST=val python3 -m domainbed.scripts.collect_results --input_dirs /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs0_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs1_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs2_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs3_erm_lp_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs0_twama_din_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs1_twama_din_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs2_twama_din_lpl4_0926/ /private/home/alexandrerame/dataplace/experiments/domainbed/pacs/pacs3_twama_din_lpl4_0926/


printres:  {'acc': 0.904296875, 'acc_ens': 0.8994140625, 'acc_netm': 0.857177734375, 'divq_netm': 0.9197672800935245, 'divr_netm': 1.3084934760582299, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.9810964083175804, 'train_acc_ens': 0.9785759294265911, 'train_acc_netm': 0.967989918084436, 'train_divq_netm': 0.9673020678803382, 'train_divr_netm': 1.9687649082256597}
printres:  {'acc': 0.8272184300341296, 'acc_ens': 0.810580204778157, 'acc_netm': 0.7831697952218429, 'divq_netm': 0.9426827913493008, 'divr_netm': 0.7623993045050517, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.9764397905759162, 'train_acc_ens': 0.9790575916230366, 'train_acc_netm': 0.9639397905759161, 'train_divq_netm': 0.9687276012778341, 'train_divr_netm': 1.7819155276089618}
printres:  {'acc': 0.9868263473053892, 'acc_ens': 0.9820359281437125, 'acc_netm': 0.9698802395209579, 'divq_netm': 0.9742244821124413, 'divr_netm': 2.133378269782624, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9741275571600482, 'train_acc_ens': 0.9741275571600482, 'train_acc_netm': 0.9616726835138387, 'train_divq_netm': 0.967228145259152, 'train_divr_netm': 1.7727327164801048}
printres:  {'acc': 0.8246373122932044, 'acc_ens': 0.8261644184270807, 'acc_netm': 0.764482056502927, 'divq_netm': 0.8754844554009579, 'divr_netm': 1.1360241989206323, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9818331957060281, 'train_acc_ens': 0.9843104872006606, 'train_acc_netm': 0.9693228736581337, 'train_divq_netm': 0.9704223972118735, 'train_divr_netm': 1.930836819814452}

printres:  {'acc': 0.92626953125, 'acc_ens': 0.9287109375, 'acc_netm': 0.8952392578125, 'divq_netm': 0.9266438803839181, 'divr_netm': 1.5919874336533382, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.9817265280403277, 'train_acc_ens': 0.9810964083175804, 'train_acc_netm': 0.9719596723377443, 'train_divq_netm': 0.9726525693906101, 'train_divr_netm': 1.9158820299969843}
printres:  {'acc': 0.889505119453925, 'acc_ens': 0.8818259385665529, 'acc_netm': 0.8494453924914677, 'divq_netm': 0.9416654137443378, 'divr_netm': 1.1225569456177467, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.9770942408376964, 'train_acc_ens': 0.9790575916230366, 'train_acc_netm': 0.96809554973822, 'train_divq_netm': 0.9724396972190711, 'train_divr_netm': 1.7858118641707315}
printres:  {'acc': 0.9892215568862276, 'acc_ens': 0.9874251497005988, 'acc_netm': 0.9739520958083834, 'divq_netm': 0.9767204062146287, 'divr_netm': 2.214005541546244, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9783393501805054, 'train_acc_ens': 0.9783393501805054, 'train_acc_netm': 0.9659747292418774, 'train_divq_netm': 0.9688303473838579, 'train_divr_netm': 1.8496673430319233}
printres:  {'acc': 0.8785950623568338, 'acc_ens': 0.8750318147111225, 'acc_netm': 0.8395011453296005, 'divq_netm': 0.9127496508045935, 'divr_netm': 1.2975918175921812, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9826589595375722, 'train_acc_ens': 0.9843104872006606, 'train_acc_netm': 0.973699421965318, 'train_divq_netm': 0.9761278783010069, 'train_divr_netm': 1.8775399671336153}
printres:  {'acc': 0.93017578125, 'acc_ens': 0.93212890625, 'acc_netm': 0.9227294921875, 'divq_netm': 0.9855320583369674, 'divr_netm': 0.6847155592198012, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.9817265280403277, 'train_acc_ens': 0.9798361688720857, 'train_acc_netm': 0.9779143037177063, 'train_divq_netm': 0.9941692418533373, 'train_divr_netm': 0.851000741322951}
printres:  {'acc': 0.8839590443686007, 'acc_ens': 0.8856655290102389, 'acc_netm': 0.87455204778157, 'divq_netm': 0.9804395006006357, 'divr_netm': 0.6674909601698649, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.9784031413612565, 'train_acc_ens': 0.9764397905759162, 'train_acc_netm': 0.9738547120418849, 'train_divq_netm': 0.9933558468186183, 'train_divr_netm': 0.864460955931612}
printres:  {'acc': 0.9898203592814371, 'acc_ens': 0.988622754491018, 'acc_netm': 0.9861976047904191, 'divq_netm': 0.9967947708688093, 'divr_netm': 0.8771992214920622, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.9753309265944645, 'train_acc_ens': 0.9753309265944645, 'train_acc_netm': 0.9735559566787002, 'train_divq_netm': 0.993715860921279, 'train_divr_netm': 0.8562778541487369}
printres:  {'acc': 0.8785950623568338, 'acc_ens': 0.8742682616441843, 'acc_netm': 0.8649147365741919, 'divq_netm': 0.984289013048098, 'divr_netm': 0.5214971450983722, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.9793559042113955, 'train_acc_ens': 0.9801816680429397, 'train_acc_netm': 0.979066886870355, 'train_divq_netm': 0.9967390422800015, 'train_divr_netm': 0.639093132288177}


{'acc': 0.93505859375, 'env_0_in_acc': 0.9296636085626911, 'env_0_out_acc': 0.941320293398533, 'env_1_in_acc': 1.0, 'env_1_out_acc': 0.9850427350427351, 'env_2_in_acc': 1.0, 'env_2_out_acc': 0.9940119760479041, 'env_3_in_acc': 1.0, 'env_3_out_acc': 0.975796178343949, 'length': 20, 'maxm': 3, 'robust': 0.0, 'which': 'stepbest'}
{'acc': 0.9023037542662116, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.9853300733496333, 'env_1_in_acc': 0.92, 'env_1_out_acc': 0.9145299145299145, 'env_2_in_acc': 1.0, 'env_2_out_acc': 0.9880239520958084, 'env_3_in_acc': 1.0, 'env_3_out_acc': 0.9681528662420382, 'length': 20, 'maxm': 3, 'robust': 0.0, 'step': 'best'}
{'acc': 0.9850299401197605, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.9853300733496333, 'env_1_in_acc': 1.0, 'env_1_out_acc': 0.9829059829059829, 'env_2_in_acc': 0.9812734082397003, 'env_2_out_acc': 0.9790419161676647, 'env_3_in_acc': 1.0, 'env_3_out_acc': 0.9770700636942675, 'length': 20, 'maxm': 3, 'robust': 0.0, 'step': 'best'}
{'acc': 0.8824128276915245, 'env_0_in_acc': 1.0, 'env_0_out_acc': 0.9755501222493888, 'env_1_in_acc': 0.9973333333333333, 'env_1_out_acc': 0.9764957264957265, 'env_2_in_acc': 1.0, 'env_2_out_acc': 0.9970059880239521, 'env_3_in_acc': 0.8630573248407644, 'env_3_out_acc': 0.8904458598726115, 'length': 20, 'maxm': 3, 'robust': 0.0, 'which': 'step100'}

-------- Dataset: PACS, model selection method: training-domain validation set
Algorithm             A                     C                     P                     S                     Avg

ERM                   85.6 +/- 0.0          73.2 +/- 0.0          98.6 +/- 0.0          70.8 +/- 0.0          82.0
ERM_onlydn            & 92.6 +/- 0.0      & 89.8 +/- 0.0          98.7 +/- 0.0          86.5 +/- 0.0          91.9
TWA                   93.3 +/- 0.0          90.5 +/- 0.0          98.8 +/- 0.0          88.7 +/- 0.0          92.8
TWAMA                 91.9 +/- 0.0          85.9 +/- 0.0          98.7 +/- 0.0          87.4 +/- 0.0          91.0

D                     & 90.4 & 82.7 & 98.7 & 82.5 & 88.6
D_onlydn & 93.5 & 90.2 & 98.5 & 88.2 & 92.6
D_TWA           &     92.6 & 89.0 & 98.9 & 87.9 & 92.1
D_TWAMA       &     93.0 & 88.4 & 99.0 & 87.9 & 92.1


python3 -m domainbed.scripts.collect_results --input_dirs /gpfsscratch/rech/edr/utr15kn/experiments/domainbed/pacs0_erm123wn_idn1erm0921r0_lp_0916 /gpfsscratch/rech/edr/utr15kn/experiments/domainbed/pacs1_erm023wn_idn1erm0921r0_lp_0916 /gpfsscratch/rech/edr/utr15kn/experiments/domainbed/pacs2_erm013wn_idn1erm0921r0_lp_0916 /gpfsscratch/rech/edr/utr15kn/experiments/domainbed/pacs3_erm012wn_idn1erm0921r0_lp_0916
