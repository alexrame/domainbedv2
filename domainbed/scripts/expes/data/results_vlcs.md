python3 -m domainbed.scripts.collect_results /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_erm_lp_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_erm_lp_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_erm_lp_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_erm_lp_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_erm_lplw_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_erm_lplw_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_erm_lplw_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_erm_lplw_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_twama_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_twama_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_twama_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_twama_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_twama_din_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_twama_din_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_twama_din_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_twama_din_lpl4_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_twama_n_lpl4w0a_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_twama_n_lpl4w0a_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_twama_n_lpl4w0a_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_twama_n_lpl4w0a_0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs0_twama_n_lpl4w0__0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs1_twama_n_lpl4w0__0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs2_twama_n_lpl4w0__0926 /private/home/alexandrerame/dataplace/experiments/domainbed/vlcs/vlcs3_twama_n_lpl4w0__0926

-------- KEYTEST=val
Algorithm             C                     L                     S                     V                     Avg
erm_lp_0926           81.9 +/- 0.0          90.1 +/- 0.0          88.7 +/- 0.0          86.6 +/- 0.0          86.8
erm_lplw_0926         81.6 +/- 0.0          90.2 +/- 0.0          88.8 +/- 0.0          86.7 +/- 0.0          86.8
twama_lpl4_0926       82.2 +/- 0.0          90.5 +/- 0.0          88.9 +/- 0.0          86.7 +/- 0.0          87.1
twama_din_lpl4_0926   82.1 +/- 0.0          90.1 +/- 0.0          89.0 +/- 0.0          86.7 +/- 0.0          87.0
twama_n_lpl4w0a_0926  82.1 +/- 0.0          90.0 +/- 0.0          88.9 +/- 0.0          87.0 +/- 0.0          87.0
twama_n_lpl4w0__0926  81.6 +/- 0.0          90.0 +/- 0.0          88.5 +/- 0.0          86.7 +/- 0.0          86.7

-------- LP
Algorithm             C                     L                     S                     V                     Avg
noft_LP               0.9761484099          0.5948235294          0.7361005331          0.7926693817
noft_LPLW             0.9911660777          0.6070588235          0.7109672506          0.8059977786

-------- ERM
Algorithm             C                     L                     S                     V                     Avg
erm_lp_0926           98.1 +/- 0.0          65.6 +/- 0.0          71.3 +/- 0.0          75.3 +/- 0.0          77.6
erm_lplw_0926         98.9 +/- 0.0          63.0 +/- 0.0          73.8 +/- 0.0          78.3 +/- 0.0          78.5
twama_lpl4_0926       97.8 +/- 0.0          60.4 +/- 0.0          70.4 +/- 0.0          80.0 +/- 0.0          77.1
twama_din_lpl4_0926   98.1 +/- 0.0          64.6 +/- 0.0          72.1 +/- 0.0          78.6 +/- 0.0          78.4
twama_n_lpl4w0a_0926  97.6 +/- 0.0          63.6 +/- 0.0          76.0 +/- 0.0          74.7 +/- 0.0          78.0
twama_n_lpl4w0__0926  99.1 +/- 0.0          66.7 +/- 0.0          75.6 +/- 0.0          76.6 +/- 0.0          79.5

-------- KEYACC=ma
erm_lplw_0926         99.1 +/- 0.0          63.4 +/- 0.0          72.9 +/- 0.0          79.0 +/- 0.0          78.6
twama_lpl4_0926       98.9 +/- 0.0          62.7 +/- 0.0          73.1 +/- 0.0          79.5 +/- 0.0          78.5
twama_din_lpl4_0926   99.2 +/- 0.0          63.2 +/- 0.0          74.0 +/- 0.0          79.6 +/- 0.0          79.0
twama_n_lpl4w0a_0926  98.9 +/- 0.0          63.7 +/- 0.0          71.4 +/- 0.0          77.0 +/- 0.0          77.7
twama_n_lpl4w0__0926  99.0 +/- 0.0          63.2 +/- 0.0          73.2 +/- 0.0          75.4 +/- 0.0          77.7

-------- DiWA
D_LP                  & 99.1 &              62.0 &                72.8 &                79.2 &                78.3
D_LPLW                & 98.9 &              62.2 &                72.3 &                78.5 &                78.0
D_LP LPLW 40          & 99.0 &              61.7 &                73.1 &                79.0 &                78.2
D_LP LPLW top10       & 98.9 &              61.4 &                72.6 &                79.3 &                78.1

D_TWA           & 98.7 & 62.7 & 73.2 & 80.0 & 78.6
D_TWA_din       & 98.7 & 62.3 & 72.1 & 79.6 & 78.1

-------- DiWA MA
DMA_LPLW              & 98.7 &              61.1 &                72.8 &                79.9 &                78.1
D_TWAMA         & 99.0 & 61.2 & 73.6 & 81.3 & 78.8
D_TWAMA_din     & 99.2 & 61.2 & 73.6 & 80.9 & 78.7


lpl4w0a & 99.0 & 62.0 & 73.0 & 79.2 & 78.3
ma_lpl4w0a & 99.0 & 61.9 & 73.4 & 79.1 & 78.4
lpl4w0 & 98.9 & 62.8 & 73.0 & 78.6 & 78.4
ma_lpl4w0 & 98.9 & 62.7 & 73.5 & 78.6 & 78.4


# Diversity

(pytorch) alexandrerame@devfair0751:~/slurmconfig/vlcs0926/inf/runs$ cat ensvlcs_twama_n_lpl4w0a_0926.slurm_66324193.out | grep printres
printres:  {'acc': 0.9901060070671378, 'acc_ens': 0.9865724381625441, 'acc_netm': 0.9768197879858658, 'divq_netm': 0.9786437839159066, 'divr_netm': 2.304245856037434, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8211600429645542, 'train_acc_ens': 0.8319011815252417, 'train_acc_netm': 0.8074650912996777, 'train_divq_netm': 0.9390073743056472, 'train_divr_netm': 0.8304873924465491}
printres:  {'acc': 0.6197289156626506, 'acc_ens': 0.6426957831325302, 'acc_netm': 0.6356739457831325, 'divq_netm': 0.9861403530312699, 'divr_netm': 0.2333821462179665, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8816604708798017, 'train_acc_ens': 0.8748451053283767, 'train_acc_netm': 0.8643742255266419, 'train_divq_netm': 0.9601951523362569, 'train_divr_netm': 0.8375802526744732}
printres:  {'acc': 0.7300426569165143, 'acc_ens': 0.7157221206581352, 'acc_netm': 0.7067336989640463, 'divq_netm': 0.8923164663329619, 'divr_netm': 0.8385930715688666, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8730691739422431, 'train_acc_ens': 0.8744123572867697, 'train_acc_netm': 0.8553055742108799, 'train_divq_netm': 0.958201746798041, 'train_divr_netm': 0.8203947715622902}
printres:  {'acc': 0.7917654028436019, 'acc_ens': 0.784952606635071, 'acc_netm': 0.7551392180094786, 'divq_netm': 0.8811168510120704, 'divr_netm': 1.0531824355047101, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8489795918367347, 'train_acc_ens': 0.854421768707483, 'train_acc_netm': 0.8287414965986395, 'train_divq_netm': 0.9399975007836259, 'train_divr_netm': 0.8980806156004788}
printres:  {'acc': 0.9901060070671378, 'acc_ens': 0.9872791519434629, 'acc_netm': 0.9792226148409895, 'divq_netm': 0.9834107794690098, 'divr_netm': 2.058639059906715, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8233082706766918, 'train_acc_ens': 0.8292158968850698, 'train_acc_netm': 0.8105531686358753, 'train_divq_netm': 0.9518074505469414, 'train_divr_netm': 0.729610107855909}
printres:  {'acc': 0.6189759036144579, 'acc_ens': 0.6359186746987951, 'acc_netm': 0.634582078313253, 'divq_netm': 0.9899067831136452, 'divr_netm': 0.1955285883542084, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8810408921933085, 'train_acc_ens': 0.8779429987608426, 'train_acc_netm': 0.8687422552664188, 'train_divq_netm': 0.9729820890317626, 'train_divr_netm': 0.6734082238648672}
printres:  {'acc': 0.7343083485679464, 'acc_ens': 0.7330895795246801, 'acc_netm': 0.7180377818403413, 'divq_netm': 0.9156791590577583, 'divr_netm': 0.7396200224607425, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8683680322364002, 'train_acc_ens': 0.8744123572867697, 'train_acc_netm': 0.858226997985225, 'train_divq_netm': 0.9672499970769982, 'train_divr_netm': 0.714101620567487}
printres:  {'acc': 0.7914691943127962, 'acc_ens': 0.7870260663507109, 'acc_netm': 0.7657879146919431, 'divq_netm': 0.9193924773075519, 'divr_netm': 0.8623625730609612, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8421768707482993, 'train_acc_ens': 0.8496598639455782, 'train_acc_netm': 0.8329591836734694, 'train_divq_netm': 0.9570821508457581, 'train_divr_netm': 0.7451873295357663}

(pytorch) alexandrerame@devfair0751:~/slurmconfig/vlcs0926/inf/runs$ cat ensvlcs_twama_n_lpl4w0_0926.slurm_66324198.out | grep printres
printres:  {'acc': 0.9893992932862191, 'acc_ens': 0.984452296819788, 'acc_netm': 0.9766077738515901, 'divq_netm': 0.9716401880679413, 'divr_netm': 2.7025914142624146, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8276047261009667, 'train_acc_ens': 0.832438238453276, 'train_acc_netm': 0.8075725026852846, 'train_divq_netm': 0.939272098623156, 'train_divr_netm': 0.8275775052038209}
printres:  {'acc': 0.6280120481927711, 'acc_ens': 0.6460843373493976, 'acc_netm': 0.6431099397590361, 'divq_netm': 0.9866186538306436, 'divr_netm': 0.23989856812474572, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8810408921933085, 'train_acc_ens': 0.8798017348203222, 'train_acc_netm': 0.8656443618339529, 'train_divq_netm': 0.9624029404588929, 'train_divr_netm': 0.8159907214510332}
printres:  {'acc': 0.7303473491773309, 'acc_ens': 0.7126751980499695, 'acc_netm': 0.6984460694698356, 'divq_netm': 0.8961840269280629, 'divr_netm': 0.8001843498597055, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8683680322364002, 'train_acc_ens': 0.8750839489590329, 'train_acc_netm': 0.8544325050369375, 'train_divq_netm': 0.9558845955321326, 'train_divr_netm': 0.8450977565266137}
printres:  {'acc': 0.7864336492890995, 'acc_ens': 0.7825829383886256, 'acc_netm': 0.7436611374407583, 'divq_netm': 0.8798599774105968, 'divr_netm': 1.006106305529496, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8462585034013606, 'train_acc_ens': 0.8482993197278912, 'train_acc_netm': 0.827312925170068, 'train_divq_netm': 0.9408836297546886, 'train_divr_netm': 0.8853631637290924}
printres:  {'acc': 0.9886925795053003, 'acc_ens': 0.9865724381625441, 'acc_netm': 0.9787985865724382, 'divq_netm': 0.9756692158508727, 'divr_netm': 2.3545280311578196, 'length': 20, 'testenv': 0, 'topk': 0, 'train_acc': 0.8259935553168636, 'train_acc_ens': 0.8276047261009667, 'train_acc_netm': 0.810204081632653, 'train_divq_netm': 0.9492191091400403, 'train_divr_netm': 0.7509669018541029}
printres:  {'acc': 0.6265060240963856, 'acc_ens': 0.6487198795180723, 'acc_netm': 0.6419427710843373, 'divq_netm': 0.9887557009114227, 'divr_netm': 0.21995430878702046, 'length': 20, 'testenv': 1, 'topk': 0, 'train_acc': 0.8779429987608426, 'train_acc_ens': 0.879182156133829, 'train_acc_netm': 0.8667905824039653, 'train_divq_netm': 0.9682073599915333, 'train_divr_netm': 0.741304574953555}
printres:  {'acc': 0.734613040828763, 'acc_ens': 0.7273004265691652, 'acc_netm': 0.7082419256550885, 'divq_netm': 0.9097396553398828, 'divr_netm': 0.7520773463967511, 'length': 20, 'testenv': 2, 'topk': 0, 'train_acc': 0.8663532572196104, 'train_acc_ens': 0.8723975822699799, 'train_acc_netm': 0.8550369375419745, 'train_divq_netm': 0.9645562192036403, 'train_divr_netm': 0.7409403323610224}
printres:  {'acc': 0.7864336492890995, 'acc_ens': 0.7828791469194313, 'acc_netm': 0.7508145734597157, 'divq_netm': 0.9038905642688466, 'divr_netm': 0.8934837738489464, 'length': 20, 'testenv': 3, 'topk': 0, 'train_acc': 0.8414965986394558, 'train_acc_ens': 0.8489795918367347, 'train_acc_netm': 0.8304081632653062, 'train_divq_netm': 0.9513081490503994, 'train_divr_netm': 0.7953436147718812}
